!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).ReakitUtils={},e.React)}(this,(function(e,t){"use strict";function n(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}function r(e,t){if("closest"in e)return e.closest(t);do{if(n(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function o(e,t){return e===t||e.contains(t)}function u(e){return e?e.ownerDocument||e:window.document}function i(e,t,n){var r,o;if(void 0===n&&(n={}),"function"==typeof Event)return new Event(t,n);var i=u(e).createEvent("Event");return i.initEvent(t,null===(r=n)||void 0===r?void 0:r.bubbles,null===(o=n)||void 0===o?void 0:o.cancelable),i}function a(e){return u(e).defaultView||window}function c(e,t,n){if(void 0===n&&(n={}),"function"==typeof KeyboardEvent)return new KeyboardEvent(t,n);var r=u(e).createEvent("KeyboardEvent");return r.initKeyboardEvent(t,n.bubbles,n.cancelable,a(e),n.key,n.location,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey),r}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function s(e){return u(e).activeElement}var d="undefined"!=typeof window&&"msCrypto"in window;var v=["button","color","file","image","reset","submit"];function b(e){return"object"==typeof e&&null!=e}function y(e,t){return-1===t?e:[].concat(e.slice(0,t),e.slice(t+1))}var p="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function g(e){return n(e,p)&&function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0}(e)}function m(e){return g(e)&&!function(e){return parseInt(e.getAttribute("tabindex")||"0",10)<0}(e)}function h(e){var t=Array.from(e.querySelectorAll(p));return t.unshift(e),t.filter(g)}function E(e,t){var n=Array.from(e.querySelectorAll(p)),r=n.filter(m);return m(e)&&r.unshift(e),!r.length&&t?n:r}function A(e){return s(e)===e}function w(e,t){void 0===t&&(t=null),e&&("function"==typeof e?e(t):e.current=t)}var S=function(e){return void 0===e&&(e="id-"),""+e+Math.random().toString(32).substr(2,6)},O=t.createContext(S);var x="undefined"==typeof window?t.useEffect:t.useLayoutEffect;e.IdProvider=function(e){var n=e.children,r=e.unstable_prefix,o=void 0===r?"":r,u=t.useRef(0),i=t.useMemo((function(){return function(e){return void 0===e&&(e="id-"),""+o+e+ ++u.current}}),[o]);return t.createElement(O.Provider,{value:i},n)},e.applyState=function(e,t){return function(e){return"function"==typeof e}(e)?e(t):e},e.closest=r,e.contains=o,e.createEvent=i,e.createKeyboardEvent=c,e.createOnKeyDown=function(e){var t=void 0===e?{}:e,n=t.keyMap,r=t.onKey,o=t.stopPropagation,u=t.onKeyDown,i=t.shouldKeyDown,a=void 0===i?function(){return!0}:i,c=t.preventDefault,f=void 0===c||c;return function(e){if(n){var t,i="function"==typeof n?n(e):n,c="function"==typeof f?f(e):f,l="function"==typeof o?o(e):o;if(e.key in i){var s=i[e.key];if("function"==typeof s&&a(e))return c&&e.preventDefault(),l&&e.stopPropagation(),r&&r(e),void s(e)}if(u&&"current"in u)null===(t=u.current)||void 0===t||t.call(u,e);else null==u||u(e)}}},e.ensureFocus=function(e,t){var n=void 0===t?{}:t,r=n.isActive,o=void 0===r?A:r,u=n.preventScroll;return o(e)?-1:(e.focus({preventScroll:u}),o(e)?-1:requestAnimationFrame((function(){e.focus({preventScroll:u})})))},e.fireEvent=function(e,t,n){return e.dispatchEvent(i(e,t,n))},e.fireKeyboardEvent=function(e,t,n){return e.dispatchEvent(c(e,t,n))},e.flatten=function e(t){for(var n,r=[],o=l(t);!(n=o()).done;){var u=n.value;Array.isArray(u)?r.push.apply(r,e(u)):r.push(u)}return r},e.getActiveElement=s,e.getAllFocusableIn=h,e.getAllTabbableIn=E,e.getClosestFocusable=function(e){for(;e&&!g(e);)e=r(e,p);return e},e.getDefaultView=a,e.getDocument=u,e.getFirstFocusableIn=function(e){var t=h(e);return t.length?t[0]:null},e.getFirstTabbableIn=function(e,t){return E(e,t)[0]||null},e.getLastTabbableIn=function(e,t){var n=E(e,t);return n[n.length-1]||null},e.getNextActiveElementOnBlur=function(e){return d?s(e.target):e.relatedTarget},e.getNextTabbableIn=function(e,t){var n=s(e),r=h(e),o=r.indexOf(n),u=r.slice(o+1);return u.find(m)||r.find(m)||(t?u[0]:null)},e.getPreviousTabbableIn=function(e,t){var n=s(e),r=h(e).reverse(),o=r.indexOf(n),u=r.slice(o+1);return u.find(m)||r.find(m)||(t?u[0]:null)},e.hasFocusWithin=function(e){var t=s(e);if(!t)return!1;if(e.contains(t))return!0;var n=t.getAttribute("aria-activedescendant");return!!n&&(n===e.id||!!e.querySelector("#"+n))},e.isButton=function(e){if("BUTTON"===e.tagName)return!0;if("INPUT"===e.tagName){var t=e;return-1!==v.indexOf(t.type)}return!1},e.isEmpty=function(e){return Array.isArray(e)?!e.length:b(e)?!Object.keys(e).length:null==e||""===e},e.isFocusable=g,e.isInteger=function(e){return"number"==typeof e?Math.floor(e)===e:String(Math.floor(Number(e)))===e},e.isObject=b,e.isPlainObject=function(e){var t;if(!b(e))return!1;var n=Object.getPrototypeOf(e);return null==n||(null===(t=n.constructor)||void 0===t?void 0:t.toString())===Object.toString()},e.isPortalEvent=function(e){return!o(e.currentTarget,e.target)},e.isPromise=function(e){return Boolean(e&&e.then)},e.isSelfTarget=function(e){return e.target===e.currentTarget},e.isTabbable=m,e.isTextField=function(e){try{var t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName,r="true"===e.contentEditable;return t||n||r||!1}catch(e){return!1}},e.matches=n,e.omit=function(e,t){for(var n=Object.keys(e),r={},o=0;o<n.length;o+=1){var u=n[o];-1===t.indexOf(u)&&(r[u]=e[u])}return r},e.pick=function(e,t){for(var n=Object.keys(e),r={},o=0;o<n.length;o+=1){var u=n[o];t.indexOf(u)>=0&&(r[u]=e[u])}return r},e.removeIndexFromArray=y,e.removeItemFromArray=function(e,t){var n=e.indexOf(t);return y(e,n)},e.shallowEqual=function(e,t){if(e===t)return!0;if(!e)return!1;if(!t)return!1;if("object"!=typeof e)return!1;if("object"!=typeof t)return!1;var n=Object.keys(e),r=Object.keys(t),o=n.length;if(r.length!==o)return!1;for(var u=0,i=n;u<i.length;u++){var a=i[u];if(e[a]!==t[a])return!1}return!0},e.splitProps=function(e,t){for(var n={},r={},o=0,u=Object.keys(e);o<u.length;o++){var i=u[o];t.indexOf(i)>=0?n[i]=e[i]:r[i]=e[i]}return[n,r]},e.toArray=function(e){return Array.isArray(e)?e:void 0!==e?[e]:[]},e.useAllCallbacks=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useCallback((function(){for(var e,t=n.filter(Boolean),r=l(t);!(e=r()).done;){var o=e.value;o.apply(void 0,arguments)}}),n)},e.useForkRef=function(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){w(e,t),w(n,t)}}),[e,n])},e.useId=function(e){void 0===e&&(e="id-");var n=t.useContext(O);return t.useState((function(){return n(e)}))[0]},e.useLiveRef=function(e){var n=t.useRef(e);return x((function(){n.current=e})),n},e.usePipe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useCallback((function(e){return n.filter(Boolean).reduce((function(e,t){return t(e)}),e)}),n)},e.useSealedState=function(e){return t.useState(e)[0]},e.useUpdateEffect=function(e,n){var r=t.useRef(!1);t.useEffect((function(){if(r.current)return e();r.current=!0}),n)},Object.defineProperty(e,"__esModule",{value:!0})}));
