{"version":3,"sources":["@wordpress/components/src/navigation/index.js"],"names":["classnames","noop","useEffect","useRef","useState","Animate","ROOT_MENU","NavigationContext","NavigationUI","Navigation","activeItem","activeMenu","children","className","onActivateItem","onActivateMenu","item","setItem","menu","setMenu","slideOrigin","setSlideOrigin","setActiveItem","itemId","setActiveMenu","menuId","slideInOrigin","isMounted","current","context","classes","origin","animateClassName"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useRef, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Animate from '../animate';\nimport { ROOT_MENU } from './constants';\nimport { NavigationContext } from './context';\nimport { NavigationUI } from './styles/navigation-styles';\n\nexport default function Navigation( {\n\tactiveItem,\n\tactiveMenu = ROOT_MENU,\n\tchildren,\n\tclassName,\n\tonActivateItem = noop,\n\tonActivateMenu = noop,\n} ) {\n\tconst [ item, setItem ] = useState( activeItem );\n\tconst [ menu, setMenu ] = useState( activeMenu );\n\tconst [ slideOrigin, setSlideOrigin ] = useState();\n\n\tconst setActiveItem = ( itemId ) => {\n\t\tsetItem( itemId );\n\t\tonActivateItem( itemId );\n\t};\n\n\tconst setActiveMenu = ( menuId, slideInOrigin = 'left' ) => {\n\t\tsetSlideOrigin( slideInOrigin );\n\t\tsetMenu( menuId );\n\t\tonActivateMenu( menuId );\n\t};\n\n\t// Used to prevent the sliding animation on mount\n\tconst isMounted = useRef( false );\n\tuseEffect( () => {\n\t\tif ( ! isMounted.current ) {\n\t\t\tisMounted.current = true;\n\t\t}\n\t}, [] );\n\n\tuseEffect( () => {\n\t\tif ( activeItem !== item ) {\n\t\t\tsetActiveItem( activeItem );\n\t\t}\n\t\tif ( activeMenu !== menu ) {\n\t\t\tsetActiveMenu( activeMenu );\n\t\t}\n\t}, [ activeItem, activeMenu ] );\n\n\tconst context = {\n\t\tactiveItem: item,\n\t\tactiveMenu: menu,\n\t\tsetActiveItem,\n\t\tsetActiveMenu,\n\t};\n\n\tconst classes = classnames( 'components-navigation', className );\n\n\treturn (\n\t\t<NavigationUI className={ classes }>\n\t\t\t<Animate\n\t\t\t\tkey={ menu }\n\t\t\t\ttype=\"slide-in\"\n\t\t\t\toptions={ { origin: slideOrigin } }\n\t\t\t>\n\t\t\t\t{ ( { className: animateClassName } ) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t\t[ animateClassName ]:\n\t\t\t\t\t\t\t\tisMounted.current && slideOrigin,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<NavigationContext.Provider value={ context }>\n\t\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t</NavigationContext.Provider>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</Animate>\n\t\t</NavigationUI>\n\t);\n}\n"]}