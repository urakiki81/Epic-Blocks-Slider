{"version":3,"sources":["@wordpress/viewport/src/with-viewport-match.js"],"names":["mapValues","createHigherOrderComponent","pure","useViewportMatch","withViewportMatch","queries","useViewPortQueriesResult","query","split","operator","breakpointName","undefined","WrappedComponent","props","queriesResult"],"mappings":";;;;AAAA;;;AAGA,SAASA,SAAT,QAA0B,QAA1B;AAEA;;;;AAGA,SACCC,0BADD,EAECC,IAFD,EAGCC,gBAHD,QAIO,oBAJP;AAMA;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAEC,OAAF,EAAe;AACxC,MAAMC,wBAAwB,GAAG,SAA3BA,wBAA2B;AAAA,WAChCN,SAAS,CAAEK,OAAF,EAAW,UAAEE,KAAF,EAAa;AAAA,yBACGA,KAAK,CAACC,KAAN,CAAa,GAAb,CADH;AAAA;AAAA,UAC1BC,QAD0B;AAAA,UAChBC,cADgB;;AAEhC,UAAKA,cAAc,KAAKC,SAAxB,EAAoC;AACnCD,QAAAA,cAAc,GAAGD,QAAjB;AACAA,QAAAA,QAAQ,GAAG,IAAX;AACA,OAL+B,CAMhC;AACA;AACA;AACA;;;AACA,aAAON,gBAAgB,CAAEO,cAAF,EAAkBD,QAAlB,CAAvB;AACA,KAXQ,CADuB;AAAA,GAAjC;;AAaA,SAAOR,0BAA0B,CAAE,UAAEW,gBAAF,EAAwB;AAC1D,WAAOV,IAAI,CAAE,UAAEW,KAAF,EAAa;AACzB,UAAMC,aAAa,GAAGR,wBAAwB,EAA9C;AACA,aAAO,cAAC,gBAAD,eAAuBO,KAAvB,EAAoCC,aAApC,EAAP;AACA,KAHU,CAAX;AAIA,GALgC,EAK9B,mBAL8B,CAAjC;AAMA,CApBD;;AAsBA,eAAeV,iBAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { mapValues } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tcreateHigherOrderComponent,\n\tpure,\n\tuseViewportMatch,\n} from '@wordpress/compose';\n\n/**\n * Higher-order component creator, creating a new component which renders with\n * the given prop names, where the value passed to the underlying component is\n * the result of the query assigned as the object's value.\n *\n * @see isViewportMatch\n *\n * @param {Object} queries  Object of prop name to viewport query.\n *\n * @example\n *\n * ```jsx\n * function MyComponent( { isMobile } ) {\n * \treturn (\n * \t\t<div>Currently: { isMobile ? 'Mobile' : 'Not Mobile' }</div>\n * \t);\n * }\n *\n * MyComponent = withViewportMatch( { isMobile: '< small' } )( MyComponent );\n * ```\n *\n * @return {Function} Higher-order component.\n */\nconst withViewportMatch = ( queries ) => {\n\tconst useViewPortQueriesResult = () =>\n\t\tmapValues( queries, ( query ) => {\n\t\t\tlet [ operator, breakpointName ] = query.split( ' ' );\n\t\t\tif ( breakpointName === undefined ) {\n\t\t\t\tbreakpointName = operator;\n\t\t\t\toperator = '>=';\n\t\t\t}\n\t\t\t// Hooks should unconditionally execute in the same order,\n\t\t\t// we are respecting that as from the static query of the HOC we generate\n\t\t\t// a hook that calls other hooks always in the same order (because the query never changes).\n\t\t\t// eslint-disable-next-line react-hooks/rules-of-hooks\n\t\t\treturn useViewportMatch( breakpointName, operator );\n\t\t} );\n\treturn createHigherOrderComponent( ( WrappedComponent ) => {\n\t\treturn pure( ( props ) => {\n\t\t\tconst queriesResult = useViewPortQueriesResult();\n\t\t\treturn <WrappedComponent { ...props } { ...queriesResult } />;\n\t\t} );\n\t}, 'withViewportMatch' );\n};\n\nexport default withViewportMatch;\n"]}