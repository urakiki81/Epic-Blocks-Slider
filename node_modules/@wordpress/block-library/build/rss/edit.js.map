{"version":3,"sources":["@wordpress/block-library/src/rss/edit.js"],"names":["DEFAULT_MIN_ITEMS","DEFAULT_MAX_ITEMS","RSSEdit","attributes","setAttributes","feedURL","isEditing","setIsEditing","blockLayout","columns","displayAuthor","displayDate","displayExcerpt","excerptLength","itemsToShow","toggleAttribute","propName","value","onSubmitURL","event","preventDefault","rss","toolbarControls","icon","edit","title","onClick","list","isActive","grid"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { BlockControls, InspectorControls } from '@wordpress/block-editor';\nimport {\n\tButton,\n\tDisabled,\n\tPanelBody,\n\tPlaceholder,\n\tRangeControl,\n\tTextControl,\n\tToggleControl,\n\tToolbarGroup,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { grid, list, edit, rss } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\nimport ServerSideRender from '@wordpress/server-side-render';\n\nconst DEFAULT_MIN_ITEMS = 1;\nconst DEFAULT_MAX_ITEMS = 10;\n\nexport default function RSSEdit( { attributes, setAttributes } ) {\n\tconst [ isEditing, setIsEditing ] = useState( ! attributes.feedURL );\n\n\tconst {\n\t\tblockLayout,\n\t\tcolumns,\n\t\tdisplayAuthor,\n\t\tdisplayDate,\n\t\tdisplayExcerpt,\n\t\texcerptLength,\n\t\tfeedURL,\n\t\titemsToShow,\n\t} = attributes;\n\n\tfunction toggleAttribute( propName ) {\n\t\treturn () => {\n\t\t\tconst value = attributes[ propName ];\n\n\t\t\tsetAttributes( { [ propName ]: ! value } );\n\t\t};\n\t}\n\n\tfunction onSubmitURL( event ) {\n\t\tevent.preventDefault();\n\n\t\tif ( feedURL ) {\n\t\t\tsetIsEditing( false );\n\t\t}\n\t}\n\n\tif ( isEditing ) {\n\t\treturn (\n\t\t\t<Placeholder icon={ rss } label=\"RSS\">\n\t\t\t\t<form\n\t\t\t\t\tonSubmit={ onSubmitURL }\n\t\t\t\t\tclassName=\"wp-block-rss__placeholder-form\"\n\t\t\t\t>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tplaceholder={ __( 'Enter URL hereâ€¦' ) }\n\t\t\t\t\t\tvalue={ feedURL }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { feedURL: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName=\"wp-block-rss__placeholder-input\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Button isPrimary type=\"submit\">\n\t\t\t\t\t\t{ __( 'Use URL' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t</Placeholder>\n\t\t);\n\t}\n\n\tconst toolbarControls = [\n\t\t{\n\t\t\ticon: edit,\n\t\t\ttitle: __( 'Edit RSS URL' ),\n\t\t\tonClick: () => setIsEditing( true ),\n\t\t},\n\t\t{\n\t\t\ticon: list,\n\t\t\ttitle: __( 'List view' ),\n\t\t\tonClick: () => setAttributes( { blockLayout: 'list' } ),\n\t\t\tisActive: blockLayout === 'list',\n\t\t},\n\t\t{\n\t\t\ticon: grid,\n\t\t\ttitle: __( 'Grid view' ),\n\t\t\tonClick: () => setAttributes( { blockLayout: 'grid' } ),\n\t\t\tisActive: blockLayout === 'grid',\n\t\t},\n\t];\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup controls={ toolbarControls } />\n\t\t\t</BlockControls>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'RSS settings' ) }>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel={ __( 'Number of items' ) }\n\t\t\t\t\t\tvalue={ itemsToShow }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { itemsToShow: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmin={ DEFAULT_MIN_ITEMS }\n\t\t\t\t\t\tmax={ DEFAULT_MAX_ITEMS }\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display author' ) }\n\t\t\t\t\t\tchecked={ displayAuthor }\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayAuthor' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display date' ) }\n\t\t\t\t\t\tchecked={ displayDate }\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayDate' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display excerpt' ) }\n\t\t\t\t\t\tchecked={ displayExcerpt }\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayExcerpt' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t{ displayExcerpt && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Max number of words in excerpt' ) }\n\t\t\t\t\t\t\tvalue={ excerptLength }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { excerptLength: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ 10 }\n\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ blockLayout === 'grid' && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { columns: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\t\tmax={ 6 }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<Disabled>\n\t\t\t\t<ServerSideRender block=\"core/rss\" attributes={ attributes } />\n\t\t\t</Disabled>\n\t\t</>\n\t);\n}\n"]}