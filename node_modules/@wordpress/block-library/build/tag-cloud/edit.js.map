{"version":3,"sources":["@wordpress/block-library/src/tag-cloud/edit.js"],"names":["TagCloudEdit","attributes","setAttributes","taxonomies","taxonomy","showTagCounts","getTaxonomyOptions","selectOption","label","value","disabled","taxonomyOptions","item","slug","name","inspectorControls","selectedTaxonomy","select","getTaxonomies"],"mappings":";;;;;;;;;;;;;AAGA;;AAKA;;AACA;;AACA;;AACA;;AACA;;AAZA;;;;AAKA;;;AASA,SAASA,YAAT,OAAmE;AAAA,MAA1CC,UAA0C,QAA1CA,UAA0C;AAAA,MAA9BC,aAA8B,QAA9BA,aAA8B;AAAA,MAAfC,UAAe,QAAfA,UAAe;AAAA,MAC1DC,QAD0D,GAC9BH,UAD8B,CAC1DG,QAD0D;AAAA,MAChDC,aADgD,GAC9BJ,UAD8B,CAChDI,aADgD;;AAGlE,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAChC,QAAMC,YAAY,GAAG;AACpBC,MAAAA,KAAK,EAAE,cAAI,YAAJ,CADa;AAEpBC,MAAAA,KAAK,EAAE,EAFa;AAGpBC,MAAAA,QAAQ,EAAE;AAHU,KAArB;AAKA,QAAMC,eAAe,GAAG,iBACvB,oBAAQR,UAAR,EAAoB,YAApB,CADuB,EAEvB,UAAES,IAAF,EAAY;AACX,aAAO;AACNH,QAAAA,KAAK,EAAEG,IAAI,CAACC,IADN;AAENL,QAAAA,KAAK,EAAEI,IAAI,CAACE;AAFN,OAAP;AAIA,KAPsB,CAAxB;AAUA,YAASP,YAAT,0CAA0BI,eAA1B;AACA,GAjBD;;AAmBA,MAAMI,iBAAiB,GACtB,4BAAC,8BAAD,QACC,4BAAC,qBAAD;AAAW,IAAA,KAAK,EAAG,cAAI,oBAAJ;AAAnB,KACC,4BAAC,yBAAD;AACC,IAAA,KAAK,EAAG,cAAI,UAAJ,CADT;AAEC,IAAA,OAAO,EAAGT,kBAAkB,EAF7B;AAGC,IAAA,KAAK,EAAGF,QAHT;AAIC,IAAA,QAAQ,EAAG,kBAAEY,gBAAF;AAAA,aACVd,aAAa,CAAE;AAAEE,QAAAA,QAAQ,EAAEY;AAAZ,OAAF,CADH;AAAA;AAJZ,IADD,EASC,4BAAC,yBAAD;AACC,IAAA,KAAK,EAAG,cAAI,kBAAJ,CADT;AAEC,IAAA,OAAO,EAAGX,aAFX;AAGC,IAAA,QAAQ,EAAG;AAAA,aACVH,aAAa,CAAE;AAAEG,QAAAA,aAAa,EAAE,CAAEA;AAAnB,OAAF,CADH;AAAA;AAHZ,IATD,CADD,CADD;AAsBA,SACC,qDACGU,iBADH,EAEC,4BAAC,yBAAD;AACC,IAAA,GAAG,EAAC,WADL;AAEC,IAAA,KAAK,EAAC,gBAFP;AAGC,IAAA,UAAU,EAAGd;AAHd,IAFD,CADD;AAUA;;eAEc,sBAAY,UAAEgB,MAAF,EAAc;AACxC,SAAO;AACNd,IAAAA,UAAU,EAAEc,MAAM,CAAE,MAAF,CAAN,CAAiBC,aAAjB;AADN,GAAP;AAGA,CAJc,EAIVlB,YAJU,C","sourcesContent":["/**\n * External dependencies\n */\nimport { map, filter } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { PanelBody, ToggleControl, SelectControl } from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport ServerSideRender from '@wordpress/server-side-render';\n\nfunction TagCloudEdit( { attributes, setAttributes, taxonomies } ) {\n\tconst { taxonomy, showTagCounts } = attributes;\n\n\tconst getTaxonomyOptions = () => {\n\t\tconst selectOption = {\n\t\t\tlabel: __( '- Select -' ),\n\t\t\tvalue: '',\n\t\t\tdisabled: true,\n\t\t};\n\t\tconst taxonomyOptions = map(\n\t\t\tfilter( taxonomies, 'show_cloud' ),\n\t\t\t( item ) => {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: item.slug,\n\t\t\t\t\tlabel: item.name,\n\t\t\t\t};\n\t\t\t}\n\t\t);\n\n\t\treturn [ selectOption, ...taxonomyOptions ];\n\t};\n\n\tconst inspectorControls = (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Tag Cloud settings' ) }>\n\t\t\t\t<SelectControl\n\t\t\t\t\tlabel={ __( 'Taxonomy' ) }\n\t\t\t\t\toptions={ getTaxonomyOptions() }\n\t\t\t\t\tvalue={ taxonomy }\n\t\t\t\t\tonChange={ ( selectedTaxonomy ) =>\n\t\t\t\t\t\tsetAttributes( { taxonomy: selectedTaxonomy } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ToggleControl\n\t\t\t\t\tlabel={ __( 'Show post counts' ) }\n\t\t\t\t\tchecked={ showTagCounts }\n\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\tsetAttributes( { showTagCounts: ! showTagCounts } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ inspectorControls }\n\t\t\t<ServerSideRender\n\t\t\t\tkey=\"tag-cloud\"\n\t\t\t\tblock=\"core/tag-cloud\"\n\t\t\t\tattributes={ attributes }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default withSelect( ( select ) => {\n\treturn {\n\t\ttaxonomies: select( 'core' ).getTaxonomies(),\n\t};\n} )( TagCloudEdit );\n"]}