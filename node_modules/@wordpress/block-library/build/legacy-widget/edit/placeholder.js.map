{"version":3,"sources":["@wordpress/block-library/src/legacy-widget/edit/placeholder.js"],"names":["LegacyWidgetPlaceholder","availableLegacyWidgets","currentWidget","hasPermissionsToManageWidgets","onChangeWidget","visibleLegacyWidgets","isHidden","placeholderContent","value","label","concat","widget","key","name","brush"],"mappings":";;;;;;;AAQA;;AALA;;AAMA;;AACA;;AACA;;AACA;;AAZA;;;;AAKA;;;AASe,SAASA,uBAAT,OAKX;AAAA,MAJHC,sBAIG,QAJHA,sBAIG;AAAA,MAHHC,aAGG,QAHHA,aAGG;AAAA,MAFHC,6BAEG,QAFHA,6BAEG;AAAA,MADHC,cACG,QADHA,cACG;AACH,MAAMC,oBAAoB,GAAG,sBAC5B;AAAA,WAAM,oBAAQJ,sBAAR,EAAgC;AAAA,UAAIK,QAAJ,SAAIA,QAAJ;AAAA,aAAoB,CAAEA,QAAtB;AAAA,KAAhC,CAAN;AAAA,GAD4B,EAE5B,CAAEL,sBAAF,CAF4B,CAA7B;AAIA,MAAIM,kBAAJ;;AACA,MAAK,CAAEJ,6BAAP,EAAuC;AACtCI,IAAAA,kBAAkB,GAAG,cACpB,yDADoB,CAArB;AAGA,GAJD,MAIO,IAAK,qBAASF,oBAAT,CAAL,EAAuC;AAC7CE,IAAAA,kBAAkB,GAAG,cAAI,iCAAJ,CAArB;AACA,GAFM,MAEA;AACNA,IAAAA,kBAAkB,GACjB,4BAAC,yBAAD;AACC,MAAA,KAAK,EAAG,cAAI,oCAAJ,CADT;AAEC,MAAA,KAAK,EAAGL,aAAa,IAAI,MAF1B;AAGC,MAAA,QAAQ,EAAGE,cAHZ;AAIC,MAAA,OAAO,EAAG,CAAE;AAAEI,QAAAA,KAAK,EAAE,MAAT;AAAiBC,QAAAA,KAAK,EAAE;AAAxB,OAAF,EAA8CC,MAA9C,CACT,iBAAKL,oBAAL,EAA2B,UAAEM,MAAF,EAAUC,GAAV,EAAmB;AAC7C,eAAO;AACNJ,UAAAA,KAAK,EAAEI,GADD;AAENH,UAAAA,KAAK,EAAEE,MAAM,CAACE;AAFR,SAAP;AAIA,OALD,CADS;AAJX,MADD;AAeA;;AACD,SACC,4BAAC,uBAAD;AACC,IAAA,IAAI,EAAG,4BAAC,sBAAD;AAAW,MAAA,IAAI,EAAGC;AAAlB,MADR;AAEC,IAAA,KAAK,EAAG,cAAI,eAAJ;AAFT,KAIGP,kBAJH,CADD;AAQA","sourcesContent":["/**\n * External dependencies\n */\nimport { pickBy, isEmpty, map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { SelectControl, Placeholder } from '@wordpress/components';\nimport { BlockIcon } from '@wordpress/block-editor';\nimport { brush } from '@wordpress/icons';\n\nexport default function LegacyWidgetPlaceholder( {\n\tavailableLegacyWidgets,\n\tcurrentWidget,\n\thasPermissionsToManageWidgets,\n\tonChangeWidget,\n} ) {\n\tconst visibleLegacyWidgets = useMemo(\n\t\t() => pickBy( availableLegacyWidgets, ( { isHidden } ) => ! isHidden ),\n\t\t[ availableLegacyWidgets ]\n\t);\n\tlet placeholderContent;\n\tif ( ! hasPermissionsToManageWidgets ) {\n\t\tplaceholderContent = __(\n\t\t\t\"You don't have permissions to use widgets on this site.\"\n\t\t);\n\t} else if ( isEmpty( visibleLegacyWidgets ) ) {\n\t\tplaceholderContent = __( 'There are no widgets available.' );\n\t} else {\n\t\tplaceholderContent = (\n\t\t\t<SelectControl\n\t\t\t\tlabel={ __( 'Select a legacy widget to display:' ) }\n\t\t\t\tvalue={ currentWidget || 'none' }\n\t\t\t\tonChange={ onChangeWidget }\n\t\t\t\toptions={ [ { value: 'none', label: 'Select widget' } ].concat(\n\t\t\t\t\tmap( visibleLegacyWidgets, ( widget, key ) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tvalue: key,\n\t\t\t\t\t\t\tlabel: widget.name,\n\t\t\t\t\t\t};\n\t\t\t\t\t} )\n\t\t\t\t) }\n\t\t\t/>\n\t\t);\n\t}\n\treturn (\n\t\t<Placeholder\n\t\t\ticon={ <BlockIcon icon={ brush } /> }\n\t\t\tlabel={ __( 'Legacy Widget' ) }\n\t\t>\n\t\t\t{ placeholderContent }\n\t\t</Placeholder>\n\t);\n}\n"]}