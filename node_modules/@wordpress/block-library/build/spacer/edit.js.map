{"version":3,"sources":["@wordpress/block-library/src/spacer/edit.js"],"names":["MIN_SPACER_HEIGHT","MAX_SPACER_HEIGHT","SpacerEdit","attributes","isSelected","setAttributes","onResizeStart","onResizeStop","isResizing","setIsResizing","height","updateHeight","value","handleOnResizeStart","handleOnResizeStop","event","direction","elt","delta","spacerHeight","Math","min","parseInt","top","right","bottom","left","topRight","bottomRight","bottomLeft","topLeft","axis","position","isVisible","max","dispatch","toggleSelection","withInstanceId"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody, ResizableBox, RangeControl } from '@wordpress/components';\nimport { compose, withInstanceId } from '@wordpress/compose';\nimport { withDispatch } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\n\nconst MIN_SPACER_HEIGHT = 20;\nconst MAX_SPACER_HEIGHT = 500;\n\nconst SpacerEdit = ( {\n\tattributes,\n\tisSelected,\n\tsetAttributes,\n\tonResizeStart,\n\tonResizeStop,\n} ) => {\n\tconst [ isResizing, setIsResizing ] = useState( false );\n\tconst { height } = attributes;\n\tconst updateHeight = ( value ) => {\n\t\tsetAttributes( {\n\t\t\theight: value,\n\t\t} );\n\t};\n\n\tconst handleOnResizeStart = ( ...args ) => {\n\t\tonResizeStart( ...args );\n\t\tsetIsResizing( true );\n\t};\n\n\tconst handleOnResizeStop = ( event, direction, elt, delta ) => {\n\t\tonResizeStop();\n\t\tconst spacerHeight = Math.min(\n\t\t\tparseInt( height + delta.height, 10 ),\n\t\t\tMAX_SPACER_HEIGHT\n\t\t);\n\t\tupdateHeight( spacerHeight );\n\t\tsetIsResizing( false );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ResizableBox\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'block-library-spacer__resize-container',\n\t\t\t\t\t{\n\t\t\t\t\t\t'is-selected': isSelected,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t\tsize={ {\n\t\t\t\t\theight,\n\t\t\t\t} }\n\t\t\t\tminHeight={ MIN_SPACER_HEIGHT }\n\t\t\t\tenable={ {\n\t\t\t\t\ttop: false,\n\t\t\t\t\tright: false,\n\t\t\t\t\tbottom: true,\n\t\t\t\t\tleft: false,\n\t\t\t\t\ttopRight: false,\n\t\t\t\t\tbottomRight: false,\n\t\t\t\t\tbottomLeft: false,\n\t\t\t\t\ttopLeft: false,\n\t\t\t\t} }\n\t\t\t\tonResizeStart={ handleOnResizeStart }\n\t\t\t\tonResizeStop={ handleOnResizeStop }\n\t\t\t\tshowHandle={ isSelected }\n\t\t\t\t__experimentalShowTooltip={ true }\n\t\t\t\t__experimentalTooltipProps={ {\n\t\t\t\t\taxis: 'y',\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\tisVisible: isResizing,\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Spacer settings' ) }>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel={ __( 'Height in pixels' ) }\n\t\t\t\t\t\tmin={ MIN_SPACER_HEIGHT }\n\t\t\t\t\t\tmax={ Math.max( MAX_SPACER_HEIGHT, height ) }\n\t\t\t\t\t\tvalue={ height }\n\t\t\t\t\t\tonChange={ updateHeight }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t</>\n\t);\n};\n\nexport default compose( [\n\twithDispatch( ( dispatch ) => {\n\t\tconst { toggleSelection } = dispatch( 'core/block-editor' );\n\n\t\treturn {\n\t\t\tonResizeStart: () => toggleSelection( false ),\n\t\t\tonResizeStop: () => toggleSelection( true ),\n\t\t};\n\t} ),\n\twithInstanceId,\n] )( SpacerEdit );\n"]}