{"version":3,"sources":["@wordpress/block-library/src/more/edit.js"],"names":["DEFAULT_TEXT","MoreEdit","attributes","customText","noTeaser","insertBlocksAfter","setAttributes","placeholder","setPlaceholder","onChangeInput","event","target","value","undefined","onKeyDown","keyCode","ENTER","getHideExcerptHelp","checked","toggleHideExcerpt","style","width","length"],"mappings":";;;;;;;;;AAKA;;;;AAFA;;AACA;;AAEA;;AACA;;AACA;;AARA;;;AAUA,IAAMA,YAAY,GAAG,cAAI,WAAJ,CAArB;;AAEe,SAASC,QAAT,OAIX;AAAA,6BAHHC,UAGG;AAAA,MAHWC,UAGX,mBAHWA,UAGX;AAAA,MAHuBC,QAGvB,mBAHuBA,QAGvB;AAAA,MAFHC,iBAEG,QAFHA,iBAEG;AAAA,MADHC,aACG,QADHA,aACG;;AAAA,kBACqC,uBAAUN,YAAV,CADrC;AAAA;AAAA,MACKO,WADL;AAAA,MACkBC,cADlB;;AAGH,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAEC,KAAF,EAAa;AAClC;AACAF,IAAAA,cAAc,CAAE,EAAF,CAAd;AACAF,IAAAA,aAAa,CAAE;AAAEH,MAAAA,UAAU,EAAEO,KAAK,CAACC,MAAN,CAAaC,KAAb,IAAsBC;AAApC,KAAF,CAAb;AACA,GAJD;;AAMA,MAAMC,SAAS,GAAG,SAAZA,SAAY,QAAmB;AAAA,QAAfC,OAAe,SAAfA,OAAe;;AACpC,QAAKA,OAAO,KAAKC,eAAjB,EAAyB;AACxBX,MAAAA,iBAAiB,CAAE,CAAE,yBAAa,kCAAb,CAAF,CAAF,CAAjB;AACA;AACD,GAJD;;AAMA,MAAMY,kBAAkB,GAAG,SAArBA,kBAAqB,CAAEC,OAAF;AAAA,WAC1BA,OAAO,GACJ,cAAI,wBAAJ,CADI,GAEJ,cAAI,yBAAJ,CAHuB;AAAA,GAA3B;;AAKA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,WAAMb,aAAa,CAAE;AAAEF,MAAAA,QAAQ,EAAE,CAAEA;AAAd,KAAF,CAAnB;AAAA,GAA1B;;AACA,MAAMQ,KAAK,GAAGT,UAAH,aAAGA,UAAH,cAAGA,UAAH,GAAiBI,WAA5B;AACA,MAAMa,KAAK,GAAG;AAAEC,IAAAA,KAAK,YAAMT,KAAK,CAACU,MAAN,GAAe,GAArB;AAAP,GAAd;AAEA,SACC,qDACC,4BAAC,8BAAD,QACC,4BAAC,qBAAD,QACC,4BAAC,yBAAD;AACC,IAAA,KAAK,EAAG,cACP,2CADO,CADT;AAIC,IAAA,OAAO,EAAG,CAAC,CAAElB,QAJd;AAKC,IAAA,QAAQ,EAAGe,iBALZ;AAMC,IAAA,IAAI,EAAGF;AANR,IADD,CADD,CADD,EAaC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC;AACC,IAAA,IAAI,EAAC,MADN;AAEC,IAAA,KAAK,EAAGL,KAFT;AAGC,IAAA,QAAQ,EAAGH,aAHZ;AAIC,IAAA,SAAS,EAAGK,SAJb;AAKC,IAAA,KAAK,EAAGM;AALT,IADD,CAbD,CADD;AAyBA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody, ToggleControl } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { ENTER } from '@wordpress/keycodes';\nimport { getDefaultBlockName, createBlock } from '@wordpress/blocks';\n\nconst DEFAULT_TEXT = __( 'Read more' );\n\nexport default function MoreEdit( {\n\tattributes: { customText, noTeaser },\n\tinsertBlocksAfter,\n\tsetAttributes,\n} ) {\n\tconst [ placeholder, setPlaceholder ] = useState( DEFAULT_TEXT );\n\n\tconst onChangeInput = ( event ) => {\n\t\t// Set defaultText to an empty string, allowing the user to clear/replace the input field's text\n\t\tsetPlaceholder( '' );\n\t\tsetAttributes( { customText: event.target.value || undefined } );\n\t};\n\n\tconst onKeyDown = ( { keyCode } ) => {\n\t\tif ( keyCode === ENTER ) {\n\t\t\tinsertBlocksAfter( [ createBlock( getDefaultBlockName() ) ] );\n\t\t}\n\t};\n\n\tconst getHideExcerptHelp = ( checked ) =>\n\t\tchecked\n\t\t\t? __( 'The excerpt is hidden.' )\n\t\t\t: __( 'The excerpt is visible.' );\n\n\tconst toggleHideExcerpt = () => setAttributes( { noTeaser: ! noTeaser } );\n\tconst value = customText ?? placeholder;\n\tconst style = { width: `${ value.length + 1.2 }em` };\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t'Hide the excerpt on the full content page'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tchecked={ !! noTeaser }\n\t\t\t\t\t\tonChange={ toggleHideExcerpt }\n\t\t\t\t\t\thelp={ getHideExcerptHelp }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div className=\"wp-block-more\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ onChangeInput }\n\t\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\t\tstyle={ style }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"]}