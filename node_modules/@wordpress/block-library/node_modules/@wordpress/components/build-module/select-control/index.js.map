{"version":3,"sources":["@wordpress/components/src/select-control/index.js"],"names":["isEmpty","noop","classNames","useInstanceId","useState","forwardRef","Icon","chevronDown","BaseControl","InputBase","Select","DownArrowWrapper","useUniqueId","idProp","instanceId","SelectControl","id","ref","className","disabled","help","hideLabelFromVision","isFloatingLabel","label","multiple","onBlur","onChange","onFocus","options","size","valueProp","value","labelPosition","props","isFocused","setIsFocused","helpId","undefined","handleOnBlur","event","handleOnFocus","handleOnChange","selectedOptions","target","filter","selected","newValues","map","isFilled","isFloating","isFloatingLabelSet","classes","option","index","key","ForwardedComponent"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { isEmpty, noop } from 'lodash';\nimport classNames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId } from '@wordpress/compose';\nimport { useState, forwardRef } from '@wordpress/element';\nimport { Icon, chevronDown } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport BaseControl from '../base-control';\nimport InputBase from '../input-control/input-base';\nimport { Select, DownArrowWrapper } from './styles/select-control-styles';\n\nfunction useUniqueId( idProp ) {\n\tconst instanceId = useInstanceId( SelectControl );\n\tconst id = `inspector-select-control-${ instanceId }`;\n\n\treturn idProp || id;\n}\n\nfunction SelectControl(\n\t{\n\t\tclassName,\n\t\tdisabled = false,\n\t\thelp,\n\t\thideLabelFromVision,\n\t\tid: idProp,\n\t\tisFloatingLabel = false,\n\t\tlabel,\n\t\tmultiple = false,\n\t\tonBlur = noop,\n\t\tonChange = noop,\n\t\tonFocus = noop,\n\t\toptions = [],\n\t\tsize = 'default',\n\t\tvalue: valueProp,\n\t\tlabelPosition,\n\t\t...props\n\t},\n\tref\n) {\n\tconst [ isFocused, setIsFocused ] = useState( false );\n\tconst id = useUniqueId( idProp );\n\tconst helpId = help ? `${ id }__help` : undefined;\n\n\t// Disable reason: A select with an onchange throws a warning\n\tif ( isEmpty( options ) ) return null;\n\n\tconst handleOnBlur = ( event ) => {\n\t\tonBlur( event );\n\t\tsetIsFocused( false );\n\t};\n\n\tconst handleOnFocus = ( event ) => {\n\t\tonFocus( event );\n\t\tsetIsFocused( true );\n\t};\n\n\tconst handleOnChange = ( event ) => {\n\t\tif ( multiple ) {\n\t\t\tconst selectedOptions = [ ...event.target.options ].filter(\n\t\t\t\t( { selected } ) => selected\n\t\t\t);\n\t\t\tconst newValues = selectedOptions.map( ( { value } ) => value );\n\t\t\tonChange( newValues );\n\t\t\treturn;\n\t\t}\n\n\t\tonChange( event.target.value, { event } );\n\t};\n\n\tconst isFilled = true;\n\tconst isFloating = isFloatingLabel ? isFilled || isFocused : false;\n\tconst isFloatingLabelSet =\n\t\t! hideLabelFromVision && isFloatingLabel && label;\n\n\tconst classes = classNames( 'components-select-control', className );\n\n\t/* eslint-disable jsx-a11y/no-onchange */\n\treturn (\n\t\t<BaseControl help={ help }>\n\t\t\t<InputBase\n\t\t\t\tclassName={ classes }\n\t\t\t\tdisabled={ disabled }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\tid={ id }\n\t\t\t\tisFilled={ isFilled }\n\t\t\t\tisFloatingLabel={ isFloatingLabel }\n\t\t\t\tisFocused={ isFocused }\n\t\t\t\tlabel={ label }\n\t\t\t\tsize={ size }\n\t\t\t\tsuffix={\n\t\t\t\t\t<DownArrowWrapper>\n\t\t\t\t\t\t<Icon icon={ chevronDown } size={ 18 } />\n\t\t\t\t\t</DownArrowWrapper>\n\t\t\t\t}\n\t\t\t\tlabelPosition={ labelPosition }\n\t\t\t>\n\t\t\t\t<Select\n\t\t\t\t\t{ ...props }\n\t\t\t\t\taria-describedby={ helpId }\n\t\t\t\t\tclassName=\"components-select-control__input\"\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\tid={ id }\n\t\t\t\t\tisFloating={ isFloating }\n\t\t\t\t\tisFloatingLabelSet={ isFloatingLabelSet }\n\t\t\t\t\tmultiple={ multiple }\n\t\t\t\t\tonBlur={ handleOnBlur }\n\t\t\t\t\tonChange={ handleOnChange }\n\t\t\t\t\tonFocus={ handleOnFocus }\n\t\t\t\t\tref={ ref }\n\t\t\t\t\tsize={ size }\n\t\t\t\t\tvalue={ valueProp }\n\t\t\t\t>\n\t\t\t\t\t{ options.map( ( option, index ) => {\n\t\t\t\t\t\tconst key =\n\t\t\t\t\t\t\toption.id ||\n\t\t\t\t\t\t\t`${ option.label }-${ option.value }-${ index }`;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\tkey={ key }\n\t\t\t\t\t\t\t\tvalue={ option.value }\n\t\t\t\t\t\t\t\tdisabled={ option.disabled }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ option.label }\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</Select>\n\t\t\t</InputBase>\n\t\t</BaseControl>\n\t);\n\t/* eslint-enable jsx-a11y/no-onchange */\n}\n\nconst ForwardedComponent = forwardRef( SelectControl );\n\nexport default ForwardedComponent;\n"]}