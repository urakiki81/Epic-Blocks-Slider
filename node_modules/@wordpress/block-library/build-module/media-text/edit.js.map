{"version":3,"sources":["@wordpress/block-library/src/media-text/edit.js"],"names":["classnames","__","_x","useSelect","useState","BlockControls","BlockVerticalAlignmentToolbar","InnerBlocks","InspectorControls","__experimentalBlock","Block","__experimentalImageURLInputUI","ImageURLInputUI","PanelBody","TextareaControl","ToggleControl","ToolbarGroup","ExternalLink","FocalPointPicker","pullLeft","pullRight","MediaContainer","TEMPLATE","fontSize","placeholder","WIDTH_CONSTRAINT_PERCENTAGE","applyWidthConstraints","width","Math","max","min","LINK_DESTINATION_MEDIA","LINK_DESTINATION_ATTACHMENT","attributesFromMedia","attributes","linkDestination","href","setAttributes","media","mediaType","src","media_type","type","sizes","large","url","media_details","source_url","newHref","link","mediaAlt","alt","mediaId","id","mediaUrl","mediaLink","undefined","focalPoint","MediaTextEdit","isSelected","imageFill","isStackedOnMobile","linkClass","linkTarget","mediaPosition","mediaWidth","rel","verticalAlignment","image","select","getMedia","temporaryMediaWidth","setTemporaryMediaWidth","onSelectMedia","onSetHref","props","onWidthChange","commitWidthChange","classNames","widthString","gridTemplateColumns","style","msGridColumns","toolbarControls","icon","title","isActive","onClick","onMediaAltChange","newMediaAlt","onVerticalAlignmentChange","alignment","mediaTextGeneralSettings","value","className"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport {\n\tBlockControls,\n\tBlockVerticalAlignmentToolbar,\n\tInnerBlocks,\n\tInspectorControls,\n\t__experimentalBlock as Block,\n\t__experimentalImageURLInputUI as ImageURLInputUI,\n} from '@wordpress/block-editor';\nimport {\n\tPanelBody,\n\tTextareaControl,\n\tToggleControl,\n\tToolbarGroup,\n\tExternalLink,\n\tFocalPointPicker,\n} from '@wordpress/components';\nimport { pullLeft, pullRight } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport MediaContainer from './media-container';\n\n/**\n * Constants\n */\nconst TEMPLATE = [\n\t[\n\t\t'core/paragraph',\n\t\t{\n\t\t\tfontSize: 'large',\n\t\t\tplaceholder: _x( 'Contentâ€¦', 'content placeholder' ),\n\t\t},\n\t],\n];\n// this limits the resize to a safe zone to avoid making broken layouts\nconst WIDTH_CONSTRAINT_PERCENTAGE = 15;\nconst applyWidthConstraints = ( width ) =>\n\tMath.max(\n\t\tWIDTH_CONSTRAINT_PERCENTAGE,\n\t\tMath.min( width, 100 - WIDTH_CONSTRAINT_PERCENTAGE )\n\t);\n\nconst LINK_DESTINATION_MEDIA = 'media';\nconst LINK_DESTINATION_ATTACHMENT = 'attachment';\n\nfunction attributesFromMedia( {\n\tattributes: { linkDestination, href },\n\tsetAttributes,\n} ) {\n\treturn ( media ) => {\n\t\tlet mediaType;\n\t\tlet src;\n\t\t// for media selections originated from a file upload.\n\t\tif ( media.media_type ) {\n\t\t\tif ( media.media_type === 'image' ) {\n\t\t\t\tmediaType = 'image';\n\t\t\t} else {\n\t\t\t\t// only images and videos are accepted so if the media_type is not an image we can assume it is a video.\n\t\t\t\t// video contain the media type of 'file' in the object returned from the rest api.\n\t\t\t\tmediaType = 'video';\n\t\t\t}\n\t\t} else {\n\t\t\t// for media selections originated from existing files in the media library.\n\t\t\tmediaType = media.type;\n\t\t}\n\n\t\tif ( mediaType === 'image' ) {\n\t\t\t// Try the \"large\" size URL, falling back to the \"full\" size URL below.\n\t\t\tsrc =\n\t\t\t\tmedia.sizes?.large?.url ||\n\t\t\t\t// eslint-disable-next-line camelcase\n\t\t\t\tmedia.media_details?.sizes?.large?.source_url;\n\t\t}\n\n\t\tlet newHref = href;\n\t\tif ( linkDestination === LINK_DESTINATION_MEDIA ) {\n\t\t\t// Update the media link.\n\t\t\tnewHref = media.url;\n\t\t}\n\n\t\t// Check if the image is linked to the attachment page.\n\t\tif ( linkDestination === LINK_DESTINATION_ATTACHMENT ) {\n\t\t\t// Update the media link.\n\t\t\tnewHref = media.link;\n\t\t}\n\n\t\tsetAttributes( {\n\t\t\tmediaAlt: media.alt,\n\t\t\tmediaId: media.id,\n\t\t\tmediaType,\n\t\t\tmediaUrl: src || media.url,\n\t\t\tmediaLink: media.link || undefined,\n\t\t\thref: newHref,\n\t\t\tfocalPoint: undefined,\n\t\t} );\n\t};\n}\n\nfunction MediaTextEdit( { attributes, isSelected, setAttributes } ) {\n\tconst {\n\t\tfocalPoint,\n\t\thref,\n\t\timageFill,\n\t\tisStackedOnMobile,\n\t\tlinkClass,\n\t\tlinkDestination,\n\t\tlinkTarget,\n\t\tmediaAlt,\n\t\tmediaId,\n\t\tmediaPosition,\n\t\tmediaType,\n\t\tmediaUrl,\n\t\tmediaWidth,\n\t\trel,\n\t\tverticalAlignment,\n\t} = attributes;\n\n\tconst image = useSelect(\n\t\t( select ) =>\n\t\t\tmediaId && isSelected ? select( 'core' ).getMedia( mediaId ) : null,\n\t\t[ isSelected, mediaId ]\n\t);\n\n\tconst [ temporaryMediaWidth, setTemporaryMediaWidth ] = useState( null );\n\n\tconst onSelectMedia = attributesFromMedia( { attributes, setAttributes } );\n\n\tconst onSetHref = ( props ) => {\n\t\tsetAttributes( props );\n\t};\n\n\tconst onWidthChange = ( width ) => {\n\t\tsetTemporaryMediaWidth( applyWidthConstraints( width ) );\n\t};\n\tconst commitWidthChange = ( width ) => {\n\t\tsetAttributes( {\n\t\t\tmediaWidth: applyWidthConstraints( width ),\n\t\t} );\n\t\tsetTemporaryMediaWidth( applyWidthConstraints( width ) );\n\t};\n\n\tconst classNames = classnames( {\n\t\t'has-media-on-the-right': 'right' === mediaPosition,\n\t\t'is-selected': isSelected,\n\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]: verticalAlignment,\n\t\t'is-image-fill': imageFill,\n\t} );\n\tconst widthString = `${ temporaryMediaWidth || mediaWidth }%`;\n\tconst gridTemplateColumns =\n\t\t'right' === mediaPosition\n\t\t\t? `1fr ${ widthString }`\n\t\t\t: `${ widthString } 1fr`;\n\tconst style = {\n\t\tgridTemplateColumns,\n\t\tmsGridColumns: gridTemplateColumns,\n\t};\n\tconst toolbarControls = [\n\t\t{\n\t\t\ticon: pullLeft,\n\t\t\ttitle: __( 'Show media on left' ),\n\t\t\tisActive: mediaPosition === 'left',\n\t\t\tonClick: () => setAttributes( { mediaPosition: 'left' } ),\n\t\t},\n\t\t{\n\t\t\ticon: pullRight,\n\t\t\ttitle: __( 'Show media on right' ),\n\t\t\tisActive: mediaPosition === 'right',\n\t\t\tonClick: () => setAttributes( { mediaPosition: 'right' } ),\n\t\t},\n\t];\n\tconst onMediaAltChange = ( newMediaAlt ) => {\n\t\tsetAttributes( { mediaAlt: newMediaAlt } );\n\t};\n\tconst onVerticalAlignmentChange = ( alignment ) => {\n\t\tsetAttributes( { verticalAlignment: alignment } );\n\t};\n\tconst mediaTextGeneralSettings = (\n\t\t<PanelBody title={ __( 'Media & Text settings' ) }>\n\t\t\t<ToggleControl\n\t\t\t\tlabel={ __( 'Stack on mobile' ) }\n\t\t\t\tchecked={ isStackedOnMobile }\n\t\t\t\tonChange={ () =>\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\tisStackedOnMobile: ! isStackedOnMobile,\n\t\t\t\t\t} )\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{ mediaType === 'image' && (\n\t\t\t\t<ToggleControl\n\t\t\t\t\tlabel={ __( 'Crop image to fill entire column' ) }\n\t\t\t\t\tchecked={ imageFill }\n\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\timageFill: ! imageFill,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ imageFill && (\n\t\t\t\t<FocalPointPicker\n\t\t\t\t\tlabel={ __( 'Focal point picker' ) }\n\t\t\t\t\turl={ mediaUrl }\n\t\t\t\t\tvalue={ focalPoint }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { focalPoint: value } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ mediaType === 'image' && (\n\t\t\t\t<TextareaControl\n\t\t\t\t\tlabel={ __( 'Alt text (alternative text)' ) }\n\t\t\t\t\tvalue={ mediaAlt }\n\t\t\t\t\tonChange={ onMediaAltChange }\n\t\t\t\t\thelp={\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ExternalLink href=\"https://www.w3.org/WAI/tutorials/images/decision-tree\">\n\t\t\t\t\t\t\t\t{ __( 'Describe the purpose of the image' ) }\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'Leave empty if the image is purely decorative.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t</PanelBody>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>{ mediaTextGeneralSettings }</InspectorControls>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup controls={ toolbarControls } />\n\t\t\t\t<BlockVerticalAlignmentToolbar\n\t\t\t\t\tonChange={ onVerticalAlignmentChange }\n\t\t\t\t\tvalue={ verticalAlignment }\n\t\t\t\t/>\n\t\t\t\t{ mediaType === 'image' && (\n\t\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t\t<ImageURLInputUI\n\t\t\t\t\t\t\turl={ href || '' }\n\t\t\t\t\t\t\tonChangeUrl={ onSetHref }\n\t\t\t\t\t\t\tlinkDestination={ linkDestination }\n\t\t\t\t\t\t\tmediaType={ mediaType }\n\t\t\t\t\t\t\tmediaUrl={ image && image.source_url }\n\t\t\t\t\t\t\tmediaLink={ image && image.link }\n\t\t\t\t\t\t\tlinkTarget={ linkTarget }\n\t\t\t\t\t\t\tlinkClass={ linkClass }\n\t\t\t\t\t\t\trel={ rel }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t) }\n\t\t\t</BlockControls>\n\t\t\t<Block.div className={ classNames } style={ style }>\n\t\t\t\t<MediaContainer\n\t\t\t\t\tclassName=\"wp-block-media-text__media\"\n\t\t\t\t\tonSelectMedia={ onSelectMedia }\n\t\t\t\t\tonWidthChange={ onWidthChange }\n\t\t\t\t\tcommitWidthChange={ commitWidthChange }\n\t\t\t\t\t{ ...{\n\t\t\t\t\t\tfocalPoint,\n\t\t\t\t\t\timageFill,\n\t\t\t\t\t\tisSelected,\n\t\t\t\t\t\tisStackedOnMobile,\n\t\t\t\t\t\tmediaAlt,\n\t\t\t\t\t\tmediaId,\n\t\t\t\t\t\tmediaPosition,\n\t\t\t\t\t\tmediaType,\n\t\t\t\t\t\tmediaUrl,\n\t\t\t\t\t\tmediaWidth,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t<InnerBlocks\n\t\t\t\t\t__experimentalTagName=\"div\"\n\t\t\t\t\t__experimentalPassedProps={ {\n\t\t\t\t\t\tclassName: 'wp-block-media-text__content',\n\t\t\t\t\t} }\n\t\t\t\t\ttemplate={ TEMPLATE }\n\t\t\t\t\ttemplateInsertUpdatesSelection={ false }\n\t\t\t\t/>\n\t\t\t</Block.div>\n\t\t</>\n\t);\n}\n\nexport default MediaTextEdit;\n"]}