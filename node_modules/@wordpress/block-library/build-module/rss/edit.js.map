{"version":3,"sources":["@wordpress/block-library/src/rss/edit.js"],"names":["BlockControls","InspectorControls","Button","Disabled","PanelBody","Placeholder","RangeControl","TextControl","ToggleControl","ToolbarGroup","useState","grid","list","edit","rss","__","ServerSideRender","DEFAULT_MIN_ITEMS","DEFAULT_MAX_ITEMS","RSSEdit","attributes","setAttributes","feedURL","isEditing","setIsEditing","blockLayout","columns","displayAuthor","displayDate","displayExcerpt","excerptLength","itemsToShow","toggleAttribute","propName","value","onSubmitURL","event","preventDefault","toolbarControls","icon","title","onClick","isActive"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { BlockControls, InspectorControls } from '@wordpress/block-editor';\nimport {\n\tButton,\n\tDisabled,\n\tPanelBody,\n\tPlaceholder,\n\tRangeControl,\n\tTextControl,\n\tToggleControl,\n\tToolbarGroup,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { grid, list, edit, rss } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\nimport ServerSideRender from '@wordpress/server-side-render';\n\nconst DEFAULT_MIN_ITEMS = 1;\nconst DEFAULT_MAX_ITEMS = 10;\n\nexport default function RSSEdit( { attributes, setAttributes } ) {\n\tconst [ isEditing, setIsEditing ] = useState( ! attributes.feedURL );\n\n\tconst {\n\t\tblockLayout,\n\t\tcolumns,\n\t\tdisplayAuthor,\n\t\tdisplayDate,\n\t\tdisplayExcerpt,\n\t\texcerptLength,\n\t\tfeedURL,\n\t\titemsToShow,\n\t} = attributes;\n\n\tfunction toggleAttribute( propName ) {\n\t\treturn () => {\n\t\t\tconst value = attributes[ propName ];\n\n\t\t\tsetAttributes( { [ propName ]: ! value } );\n\t\t};\n\t}\n\n\tfunction onSubmitURL( event ) {\n\t\tevent.preventDefault();\n\n\t\tif ( feedURL ) {\n\t\t\tsetIsEditing( false );\n\t\t}\n\t}\n\n\tif ( isEditing ) {\n\t\treturn (\n\t\t\t<Placeholder icon={ rss } label=\"RSS\">\n\t\t\t\t<form\n\t\t\t\t\tonSubmit={ onSubmitURL }\n\t\t\t\t\tclassName=\"wp-block-rss__placeholder-form\"\n\t\t\t\t>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tplaceholder={ __( 'Enter URL hereâ€¦' ) }\n\t\t\t\t\t\tvalue={ feedURL }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { feedURL: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName=\"wp-block-rss__placeholder-input\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Button isPrimary type=\"submit\">\n\t\t\t\t\t\t{ __( 'Use URL' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t</Placeholder>\n\t\t);\n\t}\n\n\tconst toolbarControls = [\n\t\t{\n\t\t\ticon: edit,\n\t\t\ttitle: __( 'Edit RSS URL' ),\n\t\t\tonClick: () => setIsEditing( true ),\n\t\t},\n\t\t{\n\t\t\ticon: list,\n\t\t\ttitle: __( 'List view' ),\n\t\t\tonClick: () => setAttributes( { blockLayout: 'list' } ),\n\t\t\tisActive: blockLayout === 'list',\n\t\t},\n\t\t{\n\t\t\ticon: grid,\n\t\t\ttitle: __( 'Grid view' ),\n\t\t\tonClick: () => setAttributes( { blockLayout: 'grid' } ),\n\t\t\tisActive: blockLayout === 'grid',\n\t\t},\n\t];\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup controls={ toolbarControls } />\n\t\t\t</BlockControls>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'RSS settings' ) }>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel={ __( 'Number of items' ) }\n\t\t\t\t\t\tvalue={ itemsToShow }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { itemsToShow: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmin={ DEFAULT_MIN_ITEMS }\n\t\t\t\t\t\tmax={ DEFAULT_MAX_ITEMS }\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display author' ) }\n\t\t\t\t\t\tchecked={ displayAuthor }\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayAuthor' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display date' ) }\n\t\t\t\t\t\tchecked={ displayDate }\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayDate' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display excerpt' ) }\n\t\t\t\t\t\tchecked={ displayExcerpt }\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayExcerpt' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t{ displayExcerpt && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Max number of words in excerpt' ) }\n\t\t\t\t\t\t\tvalue={ excerptLength }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { excerptLength: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ 10 }\n\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ blockLayout === 'grid' && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { columns: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\t\tmax={ 6 }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<Disabled>\n\t\t\t\t<ServerSideRender block=\"core/rss\" attributes={ attributes } />\n\t\t\t</Disabled>\n\t\t</>\n\t);\n}\n"]}