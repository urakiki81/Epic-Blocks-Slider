{"version":3,"sources":["@wordpress/block-library/src/embed/transforms.js"],"names":["renderToString","createBlock","EMBED_BLOCK","metadata","name","transforms","from","type","isMatch","node","nodeName","test","textContent","transform","url","trim","to","blocks","caption","link","content"],"mappings":";;AAAA;;;AAGA,SAASA,cAAT,QAA+B,oBAA/B;AACA,SAASC,WAAT,QAA4B,mBAA5B;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAKcC,W,GAAgBC,Q,CAAtBC,I;AAER;;;;AAGA,IAAMC,UAAU,GAAG;AAClBC,EAAAA,IAAI,EAAE,CACL;AACCC,IAAAA,IAAI,EAAE,KADP;AAECC,IAAAA,OAAO,EAAE,iBAAEC,IAAF;AAAA,aACRA,IAAI,CAACC,QAAL,KAAkB,GAAlB,IACA,4BAA4BC,IAA5B,CAAkCF,IAAI,CAACG,WAAvC,CAFQ;AAAA,KAFV;AAKCC,IAAAA,SAAS,EAAE,mBAAEJ,IAAF,EAAY;AACtB,aAAOR,WAAW,CAAEC,WAAF,EAAe;AAChCY,QAAAA,GAAG,EAAEL,IAAI,CAACG,WAAL,CAAiBG,IAAjB;AAD2B,OAAf,CAAlB;AAGA;AATF,GADK,CADY;AAclBC,EAAAA,EAAE,EAAE,CACH;AACCT,IAAAA,IAAI,EAAE,OADP;AAECU,IAAAA,MAAM,EAAE,CAAE,gBAAF,CAFT;AAGCJ,IAAAA,SAAS,EAAE,yBAAwB;AAAA,UAApBC,GAAoB,QAApBA,GAAoB;AAAA,UAAfI,OAAe,QAAfA,OAAe;AAClC,UAAMC,IAAI,GAAG;AAAG,QAAA,IAAI,EAAGL;AAAV,SAAkBI,OAAO,IAAIJ,GAA7B,CAAb;AACA,aAAOb,WAAW,CAAE,gBAAF,EAAoB;AACrCmB,QAAAA,OAAO,EAAEpB,cAAc,CAAEmB,IAAF;AADc,OAApB,CAAlB;AAGA;AARF,GADG;AAdc,CAAnB;AA4BA,eAAed,UAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { renderToString } from '@wordpress/element';\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport metadata from './block.json';\n\nconst { name: EMBED_BLOCK } = metadata;\n\n/**\n * Default transforms for generic embeds.\n */\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'raw',\n\t\t\tisMatch: ( node ) =>\n\t\t\t\tnode.nodeName === 'P' &&\n\t\t\t\t/^\\s*(https?:\\/\\/\\S+)\\s*$/i.test( node.textContent ),\n\t\t\ttransform: ( node ) => {\n\t\t\t\treturn createBlock( EMBED_BLOCK, {\n\t\t\t\t\turl: node.textContent.trim(),\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t],\n\tto: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\ttransform: ( { url, caption } ) => {\n\t\t\t\tconst link = <a href={ url }>{ caption || url }</a>;\n\t\t\t\treturn createBlock( 'core/paragraph', {\n\t\t\t\t\tcontent: renderToString( link ),\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n"]}