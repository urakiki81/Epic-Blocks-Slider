{"version":3,"sources":["@wordpress/block-library/src/legacy-widget/edit/placeholder.js"],"names":["pickBy","isEmpty","map","useMemo","__","SelectControl","Placeholder","BlockIcon","brush","LegacyWidgetPlaceholder","availableLegacyWidgets","currentWidget","hasPermissionsToManageWidgets","onChangeWidget","visibleLegacyWidgets","isHidden","placeholderContent","value","label","concat","widget","key","name"],"mappings":";;AAAA;;;AAGA,SAASA,MAAT,EAAiBC,OAAjB,EAA0BC,GAA1B,QAAqC,QAArC;AAEA;;;;AAGA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,aAAT,EAAwBC,WAAxB,QAA2C,uBAA3C;AACA,SAASC,SAAT,QAA0B,yBAA1B;AACA,SAASC,KAAT,QAAsB,kBAAtB;AAEA,eAAe,SAASC,uBAAT,OAKX;AAAA,MAJHC,sBAIG,QAJHA,sBAIG;AAAA,MAHHC,aAGG,QAHHA,aAGG;AAAA,MAFHC,6BAEG,QAFHA,6BAEG;AAAA,MADHC,cACG,QADHA,cACG;AACH,MAAMC,oBAAoB,GAAGX,OAAO,CACnC;AAAA,WAAMH,MAAM,CAAEU,sBAAF,EAA0B;AAAA,UAAIK,QAAJ,SAAIA,QAAJ;AAAA,aAAoB,CAAEA,QAAtB;AAAA,KAA1B,CAAZ;AAAA,GADmC,EAEnC,CAAEL,sBAAF,CAFmC,CAApC;AAIA,MAAIM,kBAAJ;;AACA,MAAK,CAAEJ,6BAAP,EAAuC;AACtCI,IAAAA,kBAAkB,GAAGZ,EAAE,CACtB,yDADsB,CAAvB;AAGA,GAJD,MAIO,IAAKH,OAAO,CAAEa,oBAAF,CAAZ,EAAuC;AAC7CE,IAAAA,kBAAkB,GAAGZ,EAAE,CAAE,iCAAF,CAAvB;AACA,GAFM,MAEA;AACNY,IAAAA,kBAAkB,GACjB,cAAC,aAAD;AACC,MAAA,KAAK,EAAGZ,EAAE,CAAE,oCAAF,CADX;AAEC,MAAA,KAAK,EAAGO,aAAa,IAAI,MAF1B;AAGC,MAAA,QAAQ,EAAGE,cAHZ;AAIC,MAAA,OAAO,EAAG,CAAE;AAAEI,QAAAA,KAAK,EAAE,MAAT;AAAiBC,QAAAA,KAAK,EAAE;AAAxB,OAAF,EAA8CC,MAA9C,CACTjB,GAAG,CAAEY,oBAAF,EAAwB,UAAEM,MAAF,EAAUC,GAAV,EAAmB;AAC7C,eAAO;AACNJ,UAAAA,KAAK,EAAEI,GADD;AAENH,UAAAA,KAAK,EAAEE,MAAM,CAACE;AAFR,SAAP;AAIA,OALE,CADM;AAJX,MADD;AAeA;;AACD,SACC,cAAC,WAAD;AACC,IAAA,IAAI,EAAG,cAAC,SAAD;AAAW,MAAA,IAAI,EAAGd;AAAlB,MADR;AAEC,IAAA,KAAK,EAAGJ,EAAE,CAAE,eAAF;AAFX,KAIGY,kBAJH,CADD;AAQA","sourcesContent":["/**\n * External dependencies\n */\nimport { pickBy, isEmpty, map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { SelectControl, Placeholder } from '@wordpress/components';\nimport { BlockIcon } from '@wordpress/block-editor';\nimport { brush } from '@wordpress/icons';\n\nexport default function LegacyWidgetPlaceholder( {\n\tavailableLegacyWidgets,\n\tcurrentWidget,\n\thasPermissionsToManageWidgets,\n\tonChangeWidget,\n} ) {\n\tconst visibleLegacyWidgets = useMemo(\n\t\t() => pickBy( availableLegacyWidgets, ( { isHidden } ) => ! isHidden ),\n\t\t[ availableLegacyWidgets ]\n\t);\n\tlet placeholderContent;\n\tif ( ! hasPermissionsToManageWidgets ) {\n\t\tplaceholderContent = __(\n\t\t\t\"You don't have permissions to use widgets on this site.\"\n\t\t);\n\t} else if ( isEmpty( visibleLegacyWidgets ) ) {\n\t\tplaceholderContent = __( 'There are no widgets available.' );\n\t} else {\n\t\tplaceholderContent = (\n\t\t\t<SelectControl\n\t\t\t\tlabel={ __( 'Select a legacy widget to display:' ) }\n\t\t\t\tvalue={ currentWidget || 'none' }\n\t\t\t\tonChange={ onChangeWidget }\n\t\t\t\toptions={ [ { value: 'none', label: 'Select widget' } ].concat(\n\t\t\t\t\tmap( visibleLegacyWidgets, ( widget, key ) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tvalue: key,\n\t\t\t\t\t\t\tlabel: widget.name,\n\t\t\t\t\t\t};\n\t\t\t\t\t} )\n\t\t\t\t) }\n\t\t\t/>\n\t\t);\n\t}\n\treturn (\n\t\t<Placeholder\n\t\t\ticon={ <BlockIcon icon={ brush } /> }\n\t\t\tlabel={ __( 'Legacy Widget' ) }\n\t\t>\n\t\t\t{ placeholderContent }\n\t\t</Placeholder>\n\t);\n}\n"]}