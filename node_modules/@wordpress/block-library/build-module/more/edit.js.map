{"version":3,"sources":["@wordpress/block-library/src/more/edit.js"],"names":["__","PanelBody","ToggleControl","useState","InspectorControls","ENTER","getDefaultBlockName","createBlock","DEFAULT_TEXT","MoreEdit","attributes","customText","noTeaser","insertBlocksAfter","setAttributes","placeholder","setPlaceholder","onChangeInput","event","target","value","undefined","onKeyDown","keyCode","getHideExcerptHelp","checked","toggleHideExcerpt","style","width","length"],"mappings":";;;AAAA;;;AAGA,SAASA,EAAT,QAAmB,iBAAnB;AACA,SAASC,SAAT,EAAoBC,aAApB,QAAyC,uBAAzC;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,iBAAT,QAAkC,yBAAlC;AACA,SAASC,KAAT,QAAsB,qBAAtB;AACA,SAASC,mBAAT,EAA8BC,WAA9B,QAAiD,mBAAjD;;AAEA,IAAMC,YAAY,GAAGR,EAAE,CAAE,WAAF,CAAvB;;AAEA,eAAe,SAASS,QAAT,OAIX;AAAA,6BAHHC,UAGG;AAAA,MAHWC,UAGX,mBAHWA,UAGX;AAAA,MAHuBC,QAGvB,mBAHuBA,QAGvB;AAAA,MAFHC,iBAEG,QAFHA,iBAEG;AAAA,MADHC,aACG,QADHA,aACG;;AAAA,kBACqCX,QAAQ,CAAEK,YAAF,CAD7C;AAAA;AAAA,MACKO,WADL;AAAA,MACkBC,cADlB;;AAGH,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAEC,KAAF,EAAa;AAClC;AACAF,IAAAA,cAAc,CAAE,EAAF,CAAd;AACAF,IAAAA,aAAa,CAAE;AAAEH,MAAAA,UAAU,EAAEO,KAAK,CAACC,MAAN,CAAaC,KAAb,IAAsBC;AAApC,KAAF,CAAb;AACA,GAJD;;AAMA,MAAMC,SAAS,GAAG,SAAZA,SAAY,QAAmB;AAAA,QAAfC,OAAe,SAAfA,OAAe;;AACpC,QAAKA,OAAO,KAAKlB,KAAjB,EAAyB;AACxBQ,MAAAA,iBAAiB,CAAE,CAAEN,WAAW,CAAED,mBAAmB,EAArB,CAAb,CAAF,CAAjB;AACA;AACD,GAJD;;AAMA,MAAMkB,kBAAkB,GAAG,SAArBA,kBAAqB,CAAEC,OAAF;AAAA,WAC1BA,OAAO,GACJzB,EAAE,CAAE,wBAAF,CADE,GAEJA,EAAE,CAAE,yBAAF,CAHqB;AAAA,GAA3B;;AAKA,MAAM0B,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,WAAMZ,aAAa,CAAE;AAAEF,MAAAA,QAAQ,EAAE,CAAEA;AAAd,KAAF,CAAnB;AAAA,GAA1B;;AACA,MAAMQ,KAAK,GAAGT,UAAH,aAAGA,UAAH,cAAGA,UAAH,GAAiBI,WAA5B;AACA,MAAMY,KAAK,GAAG;AAAEC,IAAAA,KAAK,YAAMR,KAAK,CAACS,MAAN,GAAe,GAArB;AAAP,GAAd;AAEA,SACC,8BACC,cAAC,iBAAD,QACC,cAAC,SAAD,QACC,cAAC,aAAD;AACC,IAAA,KAAK,EAAG7B,EAAE,CACT,2CADS,CADX;AAIC,IAAA,OAAO,EAAG,CAAC,CAAEY,QAJd;AAKC,IAAA,QAAQ,EAAGc,iBALZ;AAMC,IAAA,IAAI,EAAGF;AANR,IADD,CADD,CADD,EAaC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC;AACC,IAAA,IAAI,EAAC,MADN;AAEC,IAAA,KAAK,EAAGJ,KAFT;AAGC,IAAA,QAAQ,EAAGH,aAHZ;AAIC,IAAA,SAAS,EAAGK,SAJb;AAKC,IAAA,KAAK,EAAGK;AALT,IADD,CAbD,CADD;AAyBA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody, ToggleControl } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { ENTER } from '@wordpress/keycodes';\nimport { getDefaultBlockName, createBlock } from '@wordpress/blocks';\n\nconst DEFAULT_TEXT = __( 'Read more' );\n\nexport default function MoreEdit( {\n\tattributes: { customText, noTeaser },\n\tinsertBlocksAfter,\n\tsetAttributes,\n} ) {\n\tconst [ placeholder, setPlaceholder ] = useState( DEFAULT_TEXT );\n\n\tconst onChangeInput = ( event ) => {\n\t\t// Set defaultText to an empty string, allowing the user to clear/replace the input field's text\n\t\tsetPlaceholder( '' );\n\t\tsetAttributes( { customText: event.target.value || undefined } );\n\t};\n\n\tconst onKeyDown = ( { keyCode } ) => {\n\t\tif ( keyCode === ENTER ) {\n\t\t\tinsertBlocksAfter( [ createBlock( getDefaultBlockName() ) ] );\n\t\t}\n\t};\n\n\tconst getHideExcerptHelp = ( checked ) =>\n\t\tchecked\n\t\t\t? __( 'The excerpt is hidden.' )\n\t\t\t: __( 'The excerpt is visible.' );\n\n\tconst toggleHideExcerpt = () => setAttributes( { noTeaser: ! noTeaser } );\n\tconst value = customText ?? placeholder;\n\tconst style = { width: `${ value.length + 1.2 }em` };\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t'Hide the excerpt on the full content page'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tchecked={ !! noTeaser }\n\t\t\t\t\t\tonChange={ toggleHideExcerpt }\n\t\t\t\t\t\thelp={ getHideExcerptHelp }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div className=\"wp-block-more\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ onChangeInput }\n\t\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\t\tstyle={ style }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"]}