{"version":3,"sources":["@wordpress/block-editor/src/components/block-navigation/block-contents.js"],"names":["BlockNavigationBlockContents","ref","onClick","block","isSelected","position","siblingBlockCount","level","props","__experimentalFeatures","blockDropTarget","clientId","rootClientId","select","getBlockRootClientId","dropTargetRootClientId","dropTargetClientId","dropPosition","isDroppingBefore","isDroppingAfter","isDroppingToInnerBlocks","className","isDraggable","onDraggableStart","onDraggableEnd"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useBlockNavigationContext } from './context';\nimport BlockNavigationBlockSlot from './block-slot';\nimport BlockNavigationBlockSelectButton from './block-select-button';\nimport BlockDraggable from '../block-draggable';\n\nconst BlockNavigationBlockContents = forwardRef(\n\t(\n\t\t{\n\t\t\tonClick,\n\t\t\tblock,\n\t\t\tisSelected,\n\t\t\tposition,\n\t\t\tsiblingBlockCount,\n\t\t\tlevel,\n\t\t\t...props\n\t\t},\n\t\tref\n\t) => {\n\t\tconst {\n\t\t\t__experimentalFeatures,\n\t\t\tblockDropTarget = {},\n\t\t} = useBlockNavigationContext();\n\n\t\tconst { clientId } = block;\n\n\t\tconst rootClientId = useSelect(\n\t\t\t( select ) =>\n\t\t\t\tselect( 'core/block-editor' ).getBlockRootClientId(\n\t\t\t\t\tclientId\n\t\t\t\t) || '',\n\t\t\t[ clientId ]\n\t\t);\n\n\t\tconst {\n\t\t\trootClientId: dropTargetRootClientId,\n\t\t\tclientId: dropTargetClientId,\n\t\t\tdropPosition,\n\t\t} = blockDropTarget;\n\n\t\tconst isDroppingBefore =\n\t\t\tdropTargetRootClientId === rootClientId &&\n\t\t\tdropTargetClientId === clientId &&\n\t\t\tdropPosition === 'top';\n\t\tconst isDroppingAfter =\n\t\t\tdropTargetRootClientId === rootClientId &&\n\t\t\tdropTargetClientId === clientId &&\n\t\t\tdropPosition === 'bottom';\n\t\tconst isDroppingToInnerBlocks =\n\t\t\tdropTargetRootClientId === clientId && dropPosition === 'inside';\n\n\t\tconst className = classnames(\n\t\t\t'block-editor-block-navigation-block-contents',\n\t\t\t{\n\t\t\t\t'is-dropping-before': isDroppingBefore,\n\t\t\t\t'is-dropping-after': isDroppingAfter,\n\t\t\t\t'is-dropping-to-inner-blocks': isDroppingToInnerBlocks,\n\t\t\t}\n\t\t);\n\n\t\treturn (\n\t\t\t<BlockDraggable\n\t\t\t\tclientIds={ [ block.clientId ] }\n\t\t\t\telementId={ `block-navigation-block-${ block.clientId }` }\n\t\t\t>\n\t\t\t\t{ ( { isDraggable, onDraggableStart, onDraggableEnd } ) =>\n\t\t\t\t\t__experimentalFeatures ? (\n\t\t\t\t\t\t<BlockNavigationBlockSlot\n\t\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t\t\tclassName={ className }\n\t\t\t\t\t\t\tblock={ block }\n\t\t\t\t\t\t\tonClick={ onClick }\n\t\t\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\t\t\tposition={ position }\n\t\t\t\t\t\t\tsiblingBlockCount={ siblingBlockCount }\n\t\t\t\t\t\t\tlevel={ level }\n\t\t\t\t\t\t\tdraggable={ isDraggable && __experimentalFeatures }\n\t\t\t\t\t\t\tonDragStart={ onDraggableStart }\n\t\t\t\t\t\t\tonDragEnd={ onDraggableEnd }\n\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<BlockNavigationBlockSelectButton\n\t\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t\t\tclassName={ className }\n\t\t\t\t\t\t\tblock={ block }\n\t\t\t\t\t\t\tonClick={ onClick }\n\t\t\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\t\t\tposition={ position }\n\t\t\t\t\t\t\tsiblingBlockCount={ siblingBlockCount }\n\t\t\t\t\t\t\tlevel={ level }\n\t\t\t\t\t\t\tdraggable={ isDraggable && __experimentalFeatures }\n\t\t\t\t\t\t\tonDragStart={ onDraggableStart }\n\t\t\t\t\t\t\tonDragEnd={ onDraggableEnd }\n\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</BlockDraggable>\n\t\t);\n\t}\n);\n\nexport default BlockNavigationBlockContents;\n"]}