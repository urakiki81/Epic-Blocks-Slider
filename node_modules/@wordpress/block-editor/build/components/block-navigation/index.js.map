{"version":3,"sources":["@wordpress/block-editor/src/components/block-navigation/index.js"],"names":["BlockNavigation","rootBlock","rootBlocks","selectedBlockClientId","selectBlock","__experimentalFeatures","length","hasHierarchy","clientId","innerBlocks","select","getSelectedBlockClientId","getBlockHierarchyRootClientId","__unstableGetBlockWithBlockTree","__unstableGetBlockTree","dispatch","onSelect","noop"],"mappings":";;;;;;;;;;;AAGA;;AAKA;;AACA;;AACA;;AAKA;;AAfA;;;;AAKA;;;;AAOA;;;AAKA,SAASA,eAAT,OAMI;AAAA,MALHC,SAKG,QALHA,SAKG;AAAA,MAJHC,UAIG,QAJHA,UAIG;AAAA,MAHHC,qBAGG,QAHHA,qBAGG;AAAA,MAFHC,WAEG,QAFHA,WAEG;AAAA,MADHC,sBACG,QADHA,sBACG;;AACH,MAAK,CAAEH,UAAF,IAAgBA,UAAU,CAACI,MAAX,KAAsB,CAA3C,EAA+C;AAC9C,WAAO,IAAP;AACA;;AAED,MAAMC,YAAY,GACjBN,SAAS,KACPA,SAAS,CAACO,QAAV,KAAuBL,qBAAvB,IACCF,SAAS,CAACQ,WAAV,IAAyBR,SAAS,CAACQ,WAAV,CAAsBH,MAAtB,KAAiC,CAFpD,CADV;AAKA,SACC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC;AAAG,IAAA,SAAS,EAAC;AAAb,KACG,cAAI,WAAJ,CADH,CADD,EAIGC,YAAY,IACb,4BAAC,aAAD;AACC,IAAA,MAAM,EAAG,CAAEN,SAAF,CADV;AAEC,IAAA,qBAAqB,EAAGE,qBAFzB;AAGC,IAAA,WAAW,EAAGC,WAHf;AAIC,IAAA,sBAAsB,EAAGC,sBAJ1B;AAKC,IAAA,gBAAgB;AALjB,IALF,EAaG,CAAEE,YAAF,IACD,4BAAC,aAAD;AACC,IAAA,MAAM,EAAGL,UADV;AAEC,IAAA,qBAAqB,EAAGC,qBAFzB;AAGC,IAAA,WAAW,EAAGC,WAHf;AAIC,IAAA,sBAAsB,EAAGC;AAJ1B,IAdF,CADD;AAwBA;;eAEc,sBACd,sBAAY,UAAEK,MAAF,EAAc;AAAA,gBAMrBA,MAAM,CAAE,mBAAF,CANe;AAAA,MAExBC,wBAFwB,WAExBA,wBAFwB;AAAA,MAGxBC,6BAHwB,WAGxBA,6BAHwB;AAAA,MAIxBC,+BAJwB,WAIxBA,+BAJwB;AAAA,MAKxBC,sBALwB,WAKxBA,sBALwB;;AAOzB,MAAMX,qBAAqB,GAAGQ,wBAAwB,EAAtD;AACA,SAAO;AACNT,IAAAA,UAAU,EAAEY,sBAAsB,EAD5B;AAENb,IAAAA,SAAS,EAAEE,qBAAqB,GAC7BU,+BAA+B,CAC/BD,6BAA6B,CAAET,qBAAF,CADE,CADF,GAI7B,IANG;AAONA,IAAAA,qBAAqB,EAArBA;AAPM,GAAP;AASA,CAjBD,CADc,EAmBd,wBAAc,UAAEY,QAAF,SAAqC;AAAA,6BAAvBC,QAAuB;AAAA,MAAvBA,QAAuB,+BAAZC,YAAY;AAClD,SAAO;AACNb,IAAAA,WADM,uBACOI,QADP,EACkB;AACvBO,MAAAA,QAAQ,CAAE,mBAAF,CAAR,CAAgCX,WAAhC,CAA6CI,QAA7C;AACAQ,MAAAA,QAAQ,CAAER,QAAF,CAAR;AACA;AAJK,GAAP;AAMA,CAPD,CAnBc,EA2BZR,eA3BY,C","sourcesContent":["/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockNavigationTree from './tree';\n\nfunction BlockNavigation( {\n\trootBlock,\n\trootBlocks,\n\tselectedBlockClientId,\n\tselectBlock,\n\t__experimentalFeatures,\n} ) {\n\tif ( ! rootBlocks || rootBlocks.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst hasHierarchy =\n\t\trootBlock &&\n\t\t( rootBlock.clientId !== selectedBlockClientId ||\n\t\t\t( rootBlock.innerBlocks && rootBlock.innerBlocks.length !== 0 ) );\n\n\treturn (\n\t\t<div className=\"block-editor-block-navigation__container\">\n\t\t\t<p className=\"block-editor-block-navigation__label\">\n\t\t\t\t{ __( 'List view' ) }\n\t\t\t</p>\n\t\t\t{ hasHierarchy && (\n\t\t\t\t<BlockNavigationTree\n\t\t\t\t\tblocks={ [ rootBlock ] }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\t__experimentalFeatures={ __experimentalFeatures }\n\t\t\t\t\tshowNestedBlocks\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ! hasHierarchy && (\n\t\t\t\t<BlockNavigationTree\n\t\t\t\t\tblocks={ rootBlocks }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\t__experimentalFeatures={ __experimentalFeatures }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetBlockHierarchyRootClientId,\n\t\t\t__unstableGetBlockWithBlockTree,\n\t\t\t__unstableGetBlockTree,\n\t\t} = select( 'core/block-editor' );\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\treturn {\n\t\t\trootBlocks: __unstableGetBlockTree(),\n\t\t\trootBlock: selectedBlockClientId\n\t\t\t\t? __unstableGetBlockWithBlockTree(\n\t\t\t\t\t\tgetBlockHierarchyRootClientId( selectedBlockClientId )\n\t\t\t\t  )\n\t\t\t\t: null,\n\t\t\tselectedBlockClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { onSelect = noop } ) => {\n\t\treturn {\n\t\t\tselectBlock( clientId ) {\n\t\t\t\tdispatch( 'core/block-editor' ).selectBlock( clientId );\n\t\t\t\tonSelect( clientId );\n\t\t\t},\n\t\t};\n\t} )\n)( BlockNavigation );\n"]}