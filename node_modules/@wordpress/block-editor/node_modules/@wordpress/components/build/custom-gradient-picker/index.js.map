{"version":3,"sources":["@wordpress/components/src/custom-gradient-picker/index.js"],"names":["GradientAnglePicker","gradientAST","hasGradient","onChange","angle","DEFAULT_LINEAR_GRADIENT_ANGLE","onAngleChange","newAngle","orientation","type","value","GradientTypePicker","onSetLinearGradient","HORIZONTAL_GRADIENT_ORIENTATION","onSetRadialGradient","handleOnChange","next","GRADIENT_OPTIONS","CustomGradientPicker"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { get, omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport AnglePickerControl from '../angle-picker-control';\nimport CustomGradientBar from './custom-gradient-bar';\nimport { Flex, FlexItem } from '../flex';\nimport SelectControl from '../select-control';\nimport { getGradientParsed } from './utils';\nimport { serializeGradient } from './serializer';\nimport {\n\tDEFAULT_LINEAR_GRADIENT_ANGLE,\n\tHORIZONTAL_GRADIENT_ORIENTATION,\n\tGRADIENT_OPTIONS,\n} from './constants';\nimport { SelectWrapper } from './styles/custom-gradient-picker-styles';\n\nconst GradientAnglePicker = ( { gradientAST, hasGradient, onChange } ) => {\n\tconst angle = get(\n\t\tgradientAST,\n\t\t[ 'orientation', 'value' ],\n\t\tDEFAULT_LINEAR_GRADIENT_ANGLE\n\t);\n\tconst onAngleChange = ( newAngle ) => {\n\t\tonChange(\n\t\t\tserializeGradient( {\n\t\t\t\t...gradientAST,\n\t\t\t\torientation: {\n\t\t\t\t\ttype: 'angular',\n\t\t\t\t\tvalue: newAngle,\n\t\t\t\t},\n\t\t\t} )\n\t\t);\n\t};\n\treturn (\n\t\t<AnglePickerControl\n\t\t\tvalue={ hasGradient ? angle : '' }\n\t\t\tonChange={ onAngleChange }\n\t\t/>\n\t);\n};\n\nconst GradientTypePicker = ( { gradientAST, hasGradient, onChange } ) => {\n\tconst { type } = gradientAST;\n\tconst onSetLinearGradient = () => {\n\t\tonChange(\n\t\t\tserializeGradient( {\n\t\t\t\t...gradientAST,\n\t\t\t\t...( gradientAST.orientation\n\t\t\t\t\t? {}\n\t\t\t\t\t: { orientation: HORIZONTAL_GRADIENT_ORIENTATION } ),\n\t\t\t\ttype: 'linear-gradient',\n\t\t\t} )\n\t\t);\n\t};\n\n\tconst onSetRadialGradient = () => {\n\t\tonChange(\n\t\t\tserializeGradient( {\n\t\t\t\t...omit( gradientAST, [ 'orientation' ] ),\n\t\t\t\ttype: 'radial-gradient',\n\t\t\t} )\n\t\t);\n\t};\n\n\tconst handleOnChange = ( next ) => {\n\t\tif ( next === 'linear-gradient' ) {\n\t\t\tonSetLinearGradient();\n\t\t}\n\t\tif ( next === 'radial-gradient' ) {\n\t\t\tonSetRadialGradient();\n\t\t}\n\t};\n\n\treturn (\n\t\t<SelectControl\n\t\t\tclassName=\"components-custom-gradient-picker__type-picker\"\n\t\t\tlabel={ __( 'Type' ) }\n\t\t\tonChange={ handleOnChange }\n\t\t\toptions={ GRADIENT_OPTIONS }\n\t\t\tvalue={ hasGradient && type }\n\t\t/>\n\t);\n};\n\nexport default function CustomGradientPicker( { value, onChange } ) {\n\tconst { gradientAST, hasGradient } = getGradientParsed( value );\n\tconst { type } = gradientAST;\n\treturn (\n\t\t<div className=\"components-custom-gradient-picker\">\n\t\t\t<CustomGradientBar value={ value } onChange={ onChange } />\n\t\t\t<Flex\n\t\t\t\tgap={ 3 }\n\t\t\t\tclassName=\"components-custom-gradient-picker__ui-line\"\n\t\t\t>\n\t\t\t\t<SelectWrapper>\n\t\t\t\t\t<GradientTypePicker\n\t\t\t\t\t\tgradientAST={ gradientAST }\n\t\t\t\t\t\thasGradient={ hasGradient }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t/>\n\t\t\t\t</SelectWrapper>\n\t\t\t\t{ type === 'linear-gradient' && (\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<GradientAnglePicker\n\t\t\t\t\t\t\tgradientAST={ gradientAST }\n\t\t\t\t\t\t\thasGradient={ hasGradient }\n\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t) }\n\t\t\t</Flex>\n\t\t</div>\n\t);\n}\n"]}