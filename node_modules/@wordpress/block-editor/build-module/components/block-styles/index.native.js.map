{"version":3,"sources":["@wordpress/block-editor/src/components/block-styles/index.native.js"],"names":["ScrollView","find","useSelect","useDispatch","_x","getActiveStyle","replaceActiveStyle","StylePreview","containerStyles","BlockStyles","clientId","url","selector","select","getBlock","getBlockStyles","block","styles","name","className","attributes","updateBlockAttributes","length","renderedStyles","label","isDefault","activeStyle","content","map","style","styleClassName","isActive","onStylePress"],"mappings":";;;AAAA;;;AAGA,SAASA,UAAT,QAA2B,cAA3B;AACA,SAASC,IAAT,QAAqB,QAArB;AAEA;;;;AAGA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,iBAAvC;AACA,SAASC,EAAT,QAAmB,iBAAnB;AAEA;;;;AAGA,SAASC,cAAT,EAAyBC,kBAAzB,QAAmD,SAAnD;AACA,OAAOC,YAAP,MAAyB,WAAzB;AACA,OAAOC,eAAP,MAA4B,cAA5B;;AAEA,SAASC,WAAT,OAA0C;AAAA,MAAlBC,QAAkB,QAAlBA,QAAkB;AAAA,MAARC,GAAQ,QAARA,GAAQ;;AACzC,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAEC,MAAF,EAAc;AAAA,kBACTA,MAAM,CAAE,mBAAF,CADG;AAAA,QACtBC,QADsB,WACtBA,QADsB;;AAAA,mBAEHD,MAAM,CAAE,aAAF,CAFH;AAAA,QAEtBE,cAFsB,YAEtBA,cAFsB;;AAG9B,QAAMC,KAAK,GAAGF,QAAQ,CAAEJ,QAAF,CAAtB;AACA,WAAO;AACNO,MAAAA,MAAM,EAAEF,cAAc,CAAEC,KAAK,CAACE,IAAR,CADhB;AAENC,MAAAA,SAAS,EAAEH,KAAK,CAACI,UAAN,CAAiBD,SAAjB,IAA8B;AAFnC,KAAP;AAIA,GARD;;AADyC,mBAWXjB,SAAS,CAAEU,QAAF,EAAY,CAAEF,QAAF,CAAZ,CAXE;AAAA,MAWjCO,MAXiC,cAWjCA,MAXiC;AAAA,MAWzBE,SAXyB,cAWzBA,SAXyB;;AAAA,qBAaPhB,WAAW,CAAE,mBAAF,CAbJ;AAAA,MAajCkB,qBAbiC,gBAajCA,qBAbiC;;AAezC,MAAK,CAAEJ,MAAF,IAAYA,MAAM,CAACK,MAAP,KAAkB,CAAnC,EAAuC;AACtC,WAAO,IAAP;AACA;;AAED,MAAMC,cAAc,GAAGtB,IAAI,CAAEgB,MAAF,EAAU,WAAV,CAAJ,GACpBA,MADoB,IAGpB;AACCC,IAAAA,IAAI,EAAE,SADP;AAECM,IAAAA,KAAK,EAAEpB,EAAE,CAAE,SAAF,EAAa,aAAb,CAFV;AAGCqB,IAAAA,SAAS,EAAE;AAHZ,GAHoB,4BAQjBR,MARiB,EAAvB;AAWA,MAAMS,WAAW,GAAGrB,cAAc,CAAEkB,cAAF,EAAkBJ,SAAlB,CAAlC;AACA,SACC,cAAC,UAAD;AACC,IAAA,UAAU,MADX;AAEC,IAAA,8BAA8B,EAAG,KAFlC;AAGC,IAAA,qBAAqB,EAAGX,eAAe,CAACmB;AAHzC,KAKGJ,cAAc,CAACK,GAAf,CAAoB,UAAEC,KAAF,EAAa;AAClC,QAAMC,cAAc,GAAGxB,kBAAkB,CACxCa,SADwC,EAExCO,WAFwC,EAGxCG,KAHwC,CAAzC;AAKA,QAAME,QAAQ,GAAGL,WAAW,KAAKG,KAAjC;;AAEA,QAAMG,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1BX,MAAAA,qBAAqB,CAAEX,QAAF,EAAY;AAChCS,QAAAA,SAAS,EAAEW;AADqB,OAAZ,CAArB;AAGA,KAJD;;AAMA,WACC,cAAC,YAAD;AACC,MAAA,OAAO,EAAGE,YADX;AAEC,MAAA,QAAQ,EAAGD,QAFZ;AAGC,MAAA,GAAG,EAAGF,KAAK,CAACX,IAHb;AAIC,MAAA,KAAK,EAAGW,KAJT;AAKC,MAAA,GAAG,EAAGlB;AALP,MADD;AASA,GAvBC,CALH,CADD;AAgCA;;AAED,eAAeF,WAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { ScrollView } from 'react-native';\nimport { find } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { _x } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { getActiveStyle, replaceActiveStyle } from './utils';\nimport StylePreview from './preview';\nimport containerStyles from './style.scss';\n\nfunction BlockStyles( { clientId, url } ) {\n\tconst selector = ( select ) => {\n\t\tconst { getBlock } = select( 'core/block-editor' );\n\t\tconst { getBlockStyles } = select( 'core/blocks' );\n\t\tconst block = getBlock( clientId );\n\t\treturn {\n\t\t\tstyles: getBlockStyles( block.name ),\n\t\t\tclassName: block.attributes.className || '',\n\t\t};\n\t};\n\n\tconst { styles, className } = useSelect( selector, [ clientId ] );\n\n\tconst { updateBlockAttributes } = useDispatch( 'core/block-editor' );\n\n\tif ( ! styles || styles.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst renderedStyles = find( styles, 'isDefault' )\n\t\t? styles\n\t\t: [\n\t\t\t\t{\n\t\t\t\t\tname: 'default',\n\t\t\t\t\tlabel: _x( 'Default', 'block style' ),\n\t\t\t\t\tisDefault: true,\n\t\t\t\t},\n\t\t\t\t...styles,\n\t\t  ];\n\n\tconst activeStyle = getActiveStyle( renderedStyles, className );\n\treturn (\n\t\t<ScrollView\n\t\t\thorizontal\n\t\t\tshowsHorizontalScrollIndicator={ false }\n\t\t\tcontentContainerStyle={ containerStyles.content }\n\t\t>\n\t\t\t{ renderedStyles.map( ( style ) => {\n\t\t\t\tconst styleClassName = replaceActiveStyle(\n\t\t\t\t\tclassName,\n\t\t\t\t\tactiveStyle,\n\t\t\t\t\tstyle\n\t\t\t\t);\n\t\t\t\tconst isActive = activeStyle === style;\n\n\t\t\t\tconst onStylePress = () => {\n\t\t\t\t\tupdateBlockAttributes( clientId, {\n\t\t\t\t\t\tclassName: styleClassName,\n\t\t\t\t\t} );\n\t\t\t\t};\n\n\t\t\t\treturn (\n\t\t\t\t\t<StylePreview\n\t\t\t\t\t\tonPress={ onStylePress }\n\t\t\t\t\t\tisActive={ isActive }\n\t\t\t\t\t\tkey={ style.name }\n\t\t\t\t\t\tstyle={ style }\n\t\t\t\t\t\turl={ url }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ScrollView>\n\t);\n}\n\nexport default BlockStyles;\n"]}