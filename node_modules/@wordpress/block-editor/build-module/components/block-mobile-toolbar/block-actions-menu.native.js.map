{"version":3,"sources":["@wordpress/block-editor/src/components/block-mobile-toolbar/block-actions-menu.native.js"],"names":["Platform","findNodeHandle","partial","first","castArray","last","compact","ToolbarButton","Picker","getBlockType","getDefaultBlockName","serialize","rawHandler","createBlock","isUnmodifiedDefaultBlock","__","sprintf","withDispatch","withSelect","withInstanceId","compose","moreHorizontalMobile","useRef","getMoversSetup","BlockActionsMenu","onDelete","isStackedHorizontally","wrapBlockSettings","wrapBlockMover","openGeneralSidebar","onMoveDown","onMoveUp","isFirst","isLast","blockTitle","isEmptyDefaultBlock","anchorNodeRef","getBlocksByClientId","selectedBlockClientId","updateClipboard","createInfoNotice","duplicateBlock","removeBlocks","pasteBlock","isPasteEnabled","pickerRef","moversOptions","keys","actionTitle","backwardButtonTitle","backward","forwardButtonTitle","forward","deleteOption","id","label","value","separated","disabled","settingsOption","backwardButtonOption","forwardButtonOption","copyButtonOption","cutButtonOption","pasteButtonOption","duplicateButtonOption","options","onPickerSelect","copyBlock","cutBlock","onPickerPresent","current","presentPicker","disabledButtonIndices","map","option","index","filter","Boolean","accessibilityHint","OS","hint","length","undefined","select","clientIds","getBlockIndex","getBlockRootClientId","getBlockOrder","getBlockName","getBlock","getSelectedBlockClientIds","canInsertBlockType","getClipboard","normalizedClientIds","block","blockName","blockType","title","firstClientId","rootClientId","blockOrder","firstIndex","lastIndex","isDefaultBlock","isEmptyContent","attributes","content","isExactlyOneBlock","clipboard","clipboardBlock","HTML","name","currentIndex","dispatch","moveBlocksDown","moveBlocksUp","duplicateBlocks","insertBlock","replaceBlocks","getBlockSelectionEnd","canReplaceBlock","insertedBlock","innerBlocks"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { Platform, findNodeHandle } from 'react-native';\nimport { partial, first, castArray, last, compact } from 'lodash';\n/**\n * WordPress dependencies\n */\nimport { ToolbarButton, Picker } from '@wordpress/components';\nimport {\n\tgetBlockType,\n\tgetDefaultBlockName,\n\tserialize,\n\trawHandler,\n\tcreateBlock,\n\tisUnmodifiedDefaultBlock,\n} from '@wordpress/blocks';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { withInstanceId, compose } from '@wordpress/compose';\nimport { moreHorizontalMobile } from '@wordpress/icons';\nimport { useRef } from '@wordpress/element';\n/**\n * Internal dependencies\n */\nimport { getMoversSetup } from '../block-mover/mover-description';\n\nconst BlockActionsMenu = ( {\n\tonDelete,\n\tisStackedHorizontally,\n\twrapBlockSettings,\n\twrapBlockMover,\n\topenGeneralSidebar,\n\tonMoveDown,\n\tonMoveUp,\n\tisFirst,\n\tisLast,\n\tblockTitle,\n\tisEmptyDefaultBlock,\n\tanchorNodeRef,\n\tgetBlocksByClientId,\n\tselectedBlockClientId,\n\tupdateClipboard,\n\tcreateInfoNotice,\n\tduplicateBlock,\n\tremoveBlocks,\n\tpasteBlock,\n\tisPasteEnabled,\n} ) => {\n\tconst pickerRef = useRef();\n\tconst moversOptions = { keys: [ 'icon', 'actionTitle' ] };\n\n\tconst {\n\t\tactionTitle: {\n\t\t\tbackward: backwardButtonTitle,\n\t\t\tforward: forwardButtonTitle,\n\t\t},\n\t} = getMoversSetup( isStackedHorizontally, moversOptions );\n\n\tconst deleteOption = {\n\t\tid: 'deleteOption',\n\t\tlabel: __( 'Remove block' ),\n\t\tvalue: 'deleteOption',\n\t\tseparated: true,\n\t\tdisabled: isEmptyDefaultBlock,\n\t};\n\n\tconst settingsOption = {\n\t\tid: 'settingsOption',\n\t\tlabel: __( 'Block settings' ),\n\t\tvalue: 'settingsOption',\n\t};\n\n\tconst backwardButtonOption = {\n\t\tid: 'backwardButtonOption',\n\t\tlabel: backwardButtonTitle,\n\t\tvalue: 'backwardButtonOption',\n\t\tdisabled: isFirst,\n\t};\n\n\tconst forwardButtonOption = {\n\t\tid: 'forwardButtonOption',\n\t\tlabel: forwardButtonTitle,\n\t\tvalue: 'forwardButtonOption',\n\t\tdisabled: isLast,\n\t};\n\n\tconst copyButtonOption = {\n\t\tid: 'copyButtonOption',\n\t\tlabel: __( 'Copy block' ),\n\t\tvalue: 'copyButtonOption',\n\t};\n\n\tconst cutButtonOption = {\n\t\tid: 'cutButtonOption',\n\t\tlabel: __( 'Cut block' ),\n\t\tvalue: 'cutButtonOption',\n\t};\n\n\tconst pasteButtonOption = {\n\t\tid: 'pasteButtonOption',\n\t\tlabel: __( 'Paste block after' ),\n\t\tvalue: 'pasteButtonOption',\n\t};\n\n\tconst duplicateButtonOption = {\n\t\tid: 'duplicateButtonOption',\n\t\tlabel: __( 'Duplicate block' ),\n\t\tvalue: 'duplicateButtonOption',\n\t};\n\n\tconst options = compact( [\n\t\twrapBlockMover && backwardButtonOption,\n\t\twrapBlockMover && forwardButtonOption,\n\t\twrapBlockSettings && settingsOption,\n\t\tcopyButtonOption,\n\t\tcutButtonOption,\n\t\tisPasteEnabled && pasteButtonOption,\n\t\tduplicateButtonOption,\n\t\tdeleteOption,\n\t] );\n\n\tfunction onPickerSelect( value ) {\n\t\tswitch ( value ) {\n\t\t\tcase deleteOption.value:\n\t\t\t\tonDelete();\n\t\t\t\tcreateInfoNotice(\n\t\t\t\t\t// translators: displayed right after the block is removed.\n\t\t\t\t\t__( 'Block removed' )\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase settingsOption.value:\n\t\t\t\topenGeneralSidebar();\n\t\t\t\tbreak;\n\t\t\tcase forwardButtonOption.value:\n\t\t\t\tonMoveDown();\n\t\t\t\tbreak;\n\t\t\tcase backwardButtonOption.value:\n\t\t\t\tonMoveUp();\n\t\t\t\tbreak;\n\t\t\tcase copyButtonOption.value:\n\t\t\t\tconst copyBlock = getBlocksByClientId( selectedBlockClientId );\n\t\t\t\tupdateClipboard( serialize( copyBlock ) );\n\t\t\t\tcreateInfoNotice(\n\t\t\t\t\t// translators: displayed right after the block is copied.\n\t\t\t\t\t__( 'Block copied' )\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase cutButtonOption.value:\n\t\t\t\tconst cutBlock = getBlocksByClientId( selectedBlockClientId );\n\t\t\t\tupdateClipboard( serialize( cutBlock ) );\n\t\t\t\tremoveBlocks( selectedBlockClientId );\n\t\t\t\tcreateInfoNotice(\n\t\t\t\t\t// translators: displayed right after the block is cut.\n\t\t\t\t\t__( 'Block cut' )\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase pasteButtonOption.value:\n\t\t\t\tpasteBlock();\n\t\t\t\tcreateInfoNotice(\n\t\t\t\t\t// translators: displayed right after the block is pasted.\n\t\t\t\t\t__( 'Block pasted' )\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase duplicateButtonOption.value:\n\t\t\t\tduplicateBlock();\n\t\t\t\tcreateInfoNotice(\n\t\t\t\t\t// translators: displayed right after the block is duplicated.\n\t\t\t\t\t__( 'Block duplicated' )\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tfunction onPickerPresent() {\n\t\tif ( pickerRef.current ) {\n\t\t\tpickerRef.current.presentPicker();\n\t\t}\n\t}\n\n\tconst disabledButtonIndices = options\n\t\t.map( ( option, index ) => option.disabled && index + 1 )\n\t\t.filter( Boolean );\n\n\tconst accessibilityHint =\n\t\tPlatform.OS === 'ios'\n\t\t\t? __( 'Double tap to open Action Sheet with available options' )\n\t\t\t: __( 'Double tap to open Bottom Sheet with available options' );\n\n\treturn (\n\t\t<>\n\t\t\t<ToolbarButton\n\t\t\t\ttitle={ __( 'Open Block Actions Menu' ) }\n\t\t\t\tonClick={ onPickerPresent }\n\t\t\t\ticon={ moreHorizontalMobile }\n\t\t\t\textraProps={ {\n\t\t\t\t\thint: accessibilityHint,\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<Picker\n\t\t\t\tref={ pickerRef }\n\t\t\t\toptions={ options }\n\t\t\t\tonChange={ onPickerSelect }\n\t\t\t\tdestructiveButtonIndex={ options.length }\n\t\t\t\tdisabledButtonIndices={ disabledButtonIndices }\n\t\t\t\thideCancelButton={ Platform.OS !== 'ios' }\n\t\t\t\tleftAlign={ true }\n\t\t\t\tanchor={\n\t\t\t\t\tanchorNodeRef ? findNodeHandle( anchorNodeRef ) : undefined\n\t\t\t\t}\n\t\t\t\t// translators: %s: block title e.g: \"Paragraph\".\n\t\t\t\ttitle={ sprintf( __( '%s block options' ), blockTitle ) }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default compose(\n\twithSelect( ( select, { clientIds } ) => {\n\t\tconst {\n\t\t\tgetBlockIndex,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlockOrder,\n\t\t\tgetBlockName,\n\t\t\tgetBlock,\n\t\t\tgetBlocksByClientId,\n\t\t\tgetSelectedBlockClientIds,\n\t\t\tcanInsertBlockType,\n\t\t} = select( 'core/block-editor' );\n\t\tconst { getClipboard } = select( 'core/editor' );\n\t\tconst normalizedClientIds = castArray( clientIds );\n\t\tconst block = getBlock( normalizedClientIds );\n\t\tconst blockName = getBlockName( normalizedClientIds );\n\t\tconst blockType = getBlockType( blockName );\n\t\tconst blockTitle = blockType.title;\n\t\tconst firstClientId = first( normalizedClientIds );\n\t\tconst rootClientId = getBlockRootClientId( firstClientId );\n\t\tconst blockOrder = getBlockOrder( rootClientId );\n\n\t\tconst firstIndex = getBlockIndex( firstClientId, rootClientId );\n\t\tconst lastIndex = getBlockIndex(\n\t\t\tlast( normalizedClientIds ),\n\t\t\trootClientId\n\t\t);\n\n\t\tconst isDefaultBlock = blockName === getDefaultBlockName();\n\t\tconst isEmptyContent = block.attributes.content === '';\n\t\tconst isExactlyOneBlock = blockOrder.length === 1;\n\t\tconst isEmptyDefaultBlock =\n\t\t\tisExactlyOneBlock && isDefaultBlock && isEmptyContent;\n\n\t\tconst clipboard = getClipboard();\n\t\tconst clipboardBlock =\n\t\t\tclipboard && rawHandler( { HTML: clipboard } )[ 0 ];\n\t\tconst isPasteEnabled =\n\t\t\tclipboardBlock &&\n\t\t\tcanInsertBlockType( clipboardBlock.name, rootClientId );\n\n\t\treturn {\n\t\t\tisFirst: firstIndex === 0,\n\t\t\tisLast: lastIndex === blockOrder.length - 1,\n\t\t\trootClientId,\n\t\t\tblockTitle,\n\t\t\tisEmptyDefaultBlock,\n\t\t\tgetBlocksByClientId,\n\t\t\tselectedBlockClientId: getSelectedBlockClientIds(),\n\t\t\tcurrentIndex: firstIndex,\n\t\t\tisPasteEnabled,\n\t\t\tclipboardBlock,\n\t\t};\n\t} ),\n\twithDispatch(\n\t\t(\n\t\t\tdispatch,\n\t\t\t{ clientIds, rootClientId, currentIndex, clipboardBlock },\n\t\t\t{ select }\n\t\t) => {\n\t\t\tconst {\n\t\t\t\tmoveBlocksDown,\n\t\t\t\tmoveBlocksUp,\n\t\t\t\tduplicateBlocks,\n\t\t\t\tremoveBlocks,\n\t\t\t\tinsertBlock,\n\t\t\t\treplaceBlocks,\n\t\t\t} = dispatch( 'core/block-editor' );\n\t\t\tconst { openGeneralSidebar } = dispatch( 'core/edit-post' );\n\t\t\tconst { updateClipboard, createInfoNotice } = dispatch(\n\t\t\t\t'core/editor'\n\t\t\t);\n\t\t\tconst { getBlockSelectionEnd, getBlock } = select(\n\t\t\t\t'core/block-editor'\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tonMoveDown: partial( moveBlocksDown, clientIds, rootClientId ),\n\t\t\t\tonMoveUp: partial( moveBlocksUp, clientIds, rootClientId ),\n\t\t\t\topenGeneralSidebar: () =>\n\t\t\t\t\topenGeneralSidebar( 'edit-post/block' ),\n\t\t\t\tupdateClipboard,\n\t\t\t\tcreateInfoNotice,\n\t\t\t\tduplicateBlock() {\n\t\t\t\t\treturn duplicateBlocks( clientIds );\n\t\t\t\t},\n\t\t\t\tremoveBlocks,\n\t\t\t\tpasteBlock: () => {\n\t\t\t\t\tconst canReplaceBlock = isUnmodifiedDefaultBlock(\n\t\t\t\t\t\tgetBlock( getBlockSelectionEnd() )\n\t\t\t\t\t);\n\n\t\t\t\t\tif ( ! canReplaceBlock ) {\n\t\t\t\t\t\tconst insertedBlock = createBlock(\n\t\t\t\t\t\t\tclipboardBlock.name,\n\t\t\t\t\t\t\tclipboardBlock.attributes,\n\t\t\t\t\t\t\tclipboardBlock.innerBlocks\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tinsertBlock(\n\t\t\t\t\t\t\tinsertedBlock,\n\t\t\t\t\t\t\tcurrentIndex + 1,\n\t\t\t\t\t\t\trootClientId\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treplaceBlocks( clientIds, clipboardBlock );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t),\n\twithInstanceId\n)( BlockActionsMenu );\n"]}