{"version":3,"sources":["@wordpress/block-editor/src/components/block-controls/index.js"],"names":["isEmpty","useContext","__experimentalToolbarContext","ToolbarContext","createSlotFill","ToolbarGroup","useDisplayBlockControls","Fill","Slot","BlockControlsSlot","__experimentalIsExpanded","props","accessibleToolbarState","buildSlotName","BlockControlsFill","controls","children","fillProps","value","isExpanded","BlockControls"],"mappings":";;;;AAAA;;;AAGA,SAASA,OAAT,QAAwB,QAAxB;AAEA;;;;AAGA,SAASC,UAAT,QAA2B,oBAA3B;AACA,SACCC,4BAA4B,IAAIC,cADjC,EAECC,cAFD,EAGCC,YAHD,QAIO,uBAJP;AAMA;;;;AAGA,OAAOC,uBAAP,MAAoC,+BAApC;;sBAEuBF,cAAc,CAAE,eAAF,C;IAA7BG,I,mBAAAA,I;IAAMC,I,mBAAAA,I;;AAEd,SAASC,iBAAT,OAA6E;AAAA,mCAA/CC,wBAA+C;AAAA,MAA/CA,wBAA+C,sCAApB,KAAoB;AAAA,MAAVC,KAAU;;AAC5E,MAAMC,sBAAsB,GAAGX,UAAU,CAAEE,cAAF,CAAzC;AACA,SACC,cAAC,IAAD;AACC,IAAA,IAAI,EAAGU,aAAa,CAAEH,wBAAF;AADrB,KAEMC,KAFN;AAGC,IAAA,SAAS,EAAGC;AAHb,KADD;AAOA;;AAED,SAASE,iBAAT,QAA+E;AAAA,MAAjDC,QAAiD,SAAjDA,QAAiD;AAAA,MAAvCL,wBAAuC,SAAvCA,wBAAuC;AAAA,MAAbM,QAAa,SAAbA,QAAa;;AAC9E,MAAK,CAAEV,uBAAuB,EAA9B,EAAmC;AAClC,WAAO,IAAP;AACA;;AAED,SACC,cAAC,IAAD;AAAM,IAAA,IAAI,EAAGO,aAAa,CAAEH,wBAAF;AAA1B,KACG,UAAEO,SAAF,EAAiB;AAClB;AACA;AACA;AACA,QAAMC,KAAK,GAAG,CAAElB,OAAO,CAAEiB,SAAF,CAAT,GAAyBA,SAAzB,GAAqC,IAAnD;AACA,WACC,cAAC,cAAD,CAAgB,QAAhB;AAAyB,MAAA,KAAK,EAAGC;AAAjC,OACC,cAAC,YAAD;AAAc,MAAA,QAAQ,EAAGH;AAAzB,MADD,EAEGC,QAFH,CADD;AAMA,GAZF,CADD;AAgBA;;AAED,IAAMH,aAAa,GAAG,SAAhBA,aAAgB,CAAEM,UAAF;AAAA,gCACJA,UAAU,GAAG,WAAH,GAAiB,EADvB;AAAA,CAAtB;;AAGA,IAAMC,aAAa,GAAGN,iBAAtB;AAEAM,aAAa,CAACZ,IAAd,GAAqBC,iBAArB;AAEA,eAAeW,aAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\nimport {\n\t__experimentalToolbarContext as ToolbarContext,\n\tcreateSlotFill,\n\tToolbarGroup,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport useDisplayBlockControls from '../use-display-block-controls';\n\nconst { Fill, Slot } = createSlotFill( 'BlockControls' );\n\nfunction BlockControlsSlot( { __experimentalIsExpanded = false, ...props } ) {\n\tconst accessibleToolbarState = useContext( ToolbarContext );\n\treturn (\n\t\t<Slot\n\t\t\tname={ buildSlotName( __experimentalIsExpanded ) }\n\t\t\t{ ...props }\n\t\t\tfillProps={ accessibleToolbarState }\n\t\t/>\n\t);\n}\n\nfunction BlockControlsFill( { controls, __experimentalIsExpanded, children } ) {\n\tif ( ! useDisplayBlockControls() ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Fill name={ buildSlotName( __experimentalIsExpanded ) }>\n\t\t\t{ ( fillProps ) => {\n\t\t\t\t// Children passed to BlockControlsFill will not have access to any\n\t\t\t\t// React Context whose Provider is part of the BlockControlsSlot tree.\n\t\t\t\t// So we re-create the Provider in this subtree.\n\t\t\t\tconst value = ! isEmpty( fillProps ) ? fillProps : null;\n\t\t\t\treturn (\n\t\t\t\t\t<ToolbarContext.Provider value={ value }>\n\t\t\t\t\t\t<ToolbarGroup controls={ controls } />\n\t\t\t\t\t\t{ children }\n\t\t\t\t\t</ToolbarContext.Provider>\n\t\t\t\t);\n\t\t\t} }\n\t\t</Fill>\n\t);\n}\n\nconst buildSlotName = ( isExpanded ) =>\n\t`BlockControls${ isExpanded ? '-expanded' : '' }`;\n\nconst BlockControls = BlockControlsFill;\n\nBlockControls.Slot = BlockControlsSlot;\n\nexport default BlockControls;\n"]}