{"version":3,"sources":["@wordpress/block-editor/src/components/block-variation-picker/index.native.js"],"names":["ScrollView","View","Text","TouchableWithoutFeedback","Platform","map","withSelect","useDispatch","compose","usePreferredColorSchemeStyle","createBlock","__","PanelBody","BottomSheet","FooterMessageControl","Icon","close","useMemo","MenuItem","styles","hitSlop","top","bottom","left","right","createBlocksFromInnerBlocksTemplate","innerBlocksTemplate","name","attributes","innerBlocks","BlockVariationPicker","isVisible","onClose","clientId","variations","replaceInnerBlocks","isIOS","OS","cancelButtonStyle","cancelButton","cancelButtonDark","leftButton","closeIcon","onVariationSelect","variation","contentStyle","contentContainerStyle","containerStyle","v","select","getBlockVariations","date"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tScrollView,\n\tView,\n\tText,\n\tTouchableWithoutFeedback,\n\tPlatform,\n} from 'react-native';\nimport { map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect, useDispatch } from '@wordpress/data';\nimport { compose, usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { createBlock } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tPanelBody,\n\tBottomSheet,\n\tFooterMessageControl,\n} from '@wordpress/components';\nimport { Icon, close } from '@wordpress/icons';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport MenuItem from '../inserter/menu-item';\nimport styles from './style.scss';\n\nconst hitSlop = { top: 22, bottom: 22, left: 22, right: 22 };\n\nfunction createBlocksFromInnerBlocksTemplate( innerBlocksTemplate ) {\n\treturn map(\n\t\tinnerBlocksTemplate,\n\t\t( [ name, attributes, innerBlocks = [] ] ) =>\n\t\t\tcreateBlock(\n\t\t\t\tname,\n\t\t\t\tattributes,\n\t\t\t\tcreateBlocksFromInnerBlocksTemplate( innerBlocks )\n\t\t\t)\n\t);\n}\n\nfunction BlockVariationPicker( { isVisible, onClose, clientId, variations } ) {\n\tconst { replaceInnerBlocks } = useDispatch( 'core/block-editor' );\n\tconst isIOS = Platform.OS === 'ios';\n\n\tconst cancelButtonStyle = usePreferredColorSchemeStyle(\n\t\tstyles.cancelButton,\n\t\tstyles.cancelButtonDark\n\t);\n\n\tconst leftButton = useMemo(\n\t\t() => (\n\t\t\t<TouchableWithoutFeedback onPress={ onClose } hitSlop={ hitSlop }>\n\t\t\t\t<View>\n\t\t\t\t\t{ isIOS ? (\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={ cancelButtonStyle }\n\t\t\t\t\t\t\tmaxFontSizeMultiplier={ 2 }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticon={ close }\n\t\t\t\t\t\t\tsize={ 24 }\n\t\t\t\t\t\t\tstyle={ styles.closeIcon }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</View>\n\t\t\t</TouchableWithoutFeedback>\n\t\t),\n\t\t[ onClose, cancelButtonStyle ]\n\t);\n\n\tconst onVariationSelect = ( variation ) => {\n\t\treplaceInnerBlocks(\n\t\t\tclientId,\n\t\t\tcreateBlocksFromInnerBlocksTemplate( variation.innerBlocks ),\n\t\t\tfalse\n\t\t);\n\t\tonClose();\n\t};\n\n\treturn (\n\t\t<BottomSheet\n\t\t\tisVisible={ isVisible }\n\t\t\tonClose={ onClose }\n\t\t\ttitle={ __( 'Select a layout' ) }\n\t\t\tcontentStyle={ styles.contentStyle }\n\t\t\tleftButton={ leftButton }\n\t\t>\n\t\t\t<ScrollView\n\t\t\t\thorizontal\n\t\t\t\tshowsHorizontalScrollIndicator={ false }\n\t\t\t\tcontentContainerStyle={ styles.contentContainerStyle }\n\t\t\t\tstyle={ styles.containerStyle }\n\t\t\t>\n\t\t\t\t{ variations.map( ( v ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\titem={ v }\n\t\t\t\t\t\t\tkey={ v.name }\n\t\t\t\t\t\t\tonSelect={ () => onVariationSelect( v ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ScrollView>\n\t\t\t<PanelBody>\n\t\t\t\t<FooterMessageControl\n\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t'Note: Column layout may vary between themes and screen sizes'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\t\t</BottomSheet>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select, {} ) => {\n\t\tconst { getBlockVariations } = select( 'core/blocks' );\n\n\t\treturn {\n\t\t\tdate: getBlockVariations( 'core/columns', 'block' ),\n\t\t};\n\t} )\n)( BlockVariationPicker );\n"]}