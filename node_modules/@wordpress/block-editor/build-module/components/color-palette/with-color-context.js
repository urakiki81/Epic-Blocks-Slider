import _extends from "@babel/runtime/helpers/esm/extends";
import { createElement } from "@wordpress/element";

/**
 * External dependencies
 */
import { isEmpty } from 'lodash';
/**
 * WordPress dependencies
 */

import { createHigherOrderComponent, compose } from '@wordpress/compose';
import { withSelect } from '@wordpress/data';
/**
 * Internal dependencies
 */

import useEditorFeature from '../use-editor-feature';
var withDisableCustomColors = createHigherOrderComponent(function (WrappedComponent) {
  return function (props) {
    var disableCustomColors = !useEditorFeature('color.custom');
    return createElement(WrappedComponent, _extends({}, props, {
      disableCustomColors: props.disableCustomColors || disableCustomColors
    }));
  };
}, 'withDisableCustomColors');
export default createHigherOrderComponent(compose(withDisableCustomColors, withSelect(function (select, ownProps) {
  var settings = select('core/block-editor').getSettings();
  var colors = ownProps.colors === undefined ? settings.colors : ownProps.colors;
  return {
    colors: colors,
    hasColorsToChoose: !isEmpty(colors) || !ownProps.disableCustomColors
  };
})), 'withColorContext');
//# sourceMappingURL=with-color-context.js.map