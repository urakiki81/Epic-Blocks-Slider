{"version":3,"sources":["@wordpress/block-editor/src/components/block-mover/index.native.js"],"names":["first","last","partial","castArray","ToolbarButton","withSelect","withDispatch","withInstanceId","compose","getMoversSetup","BlockMover","isFirst","isLast","isLocked","onMoveDown","onMoveUp","firstIndex","rootClientId","isStackedHorizontally","description","backwardButtonHint","forwardButtonHint","firstBlockTitle","lastBlockTitle","icon","backwardButtonIcon","backward","forwardButtonIcon","forward","title","backwardButtonTitle","forwardButtonTitle","hint","select","clientIds","getBlockIndex","getTemplateLock","getBlockRootClientId","getBlockOrder","normalizedClientIds","firstClientId","blockOrder","lastIndex","length","dispatch","moveBlocksDown","moveBlocksUp"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { first, last, partial, castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { ToolbarButton } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { withInstanceId, compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { getMoversSetup } from './mover-description';\n\nconst BlockMover = ( {\n\tisFirst,\n\tisLast,\n\tisLocked,\n\tonMoveDown,\n\tonMoveUp,\n\tfirstIndex,\n\trootClientId,\n\tisStackedHorizontally,\n} ) => {\n\tconst {\n\t\tdescription: {\n\t\t\tbackwardButtonHint,\n\t\t\tforwardButtonHint,\n\t\t\tfirstBlockTitle,\n\t\t\tlastBlockTitle,\n\t\t},\n\t\ticon: { backward: backwardButtonIcon, forward: forwardButtonIcon },\n\t\ttitle: { backward: backwardButtonTitle, forward: forwardButtonTitle },\n\t} = getMoversSetup( isStackedHorizontally, { firstIndex } );\n\n\tif ( isLocked || ( isFirst && isLast && ! rootClientId ) ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ToolbarButton\n\t\t\t\ttitle={ ! isFirst ? backwardButtonTitle : firstBlockTitle }\n\t\t\t\tisDisabled={ isFirst }\n\t\t\t\tonClick={ onMoveUp }\n\t\t\t\ticon={ backwardButtonIcon }\n\t\t\t\textraProps={ { hint: backwardButtonHint } }\n\t\t\t/>\n\n\t\t\t<ToolbarButton\n\t\t\t\ttitle={ ! isLast ? forwardButtonTitle : lastBlockTitle }\n\t\t\t\tisDisabled={ isLast }\n\t\t\t\tonClick={ onMoveDown }\n\t\t\t\ticon={ forwardButtonIcon }\n\t\t\t\textraProps={ {\n\t\t\t\t\thint: forwardButtonHint,\n\t\t\t\t} }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default compose(\n\twithSelect( ( select, { clientIds } ) => {\n\t\tconst {\n\t\t\tgetBlockIndex,\n\t\t\tgetTemplateLock,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlockOrder,\n\t\t} = select( 'core/block-editor' );\n\t\tconst normalizedClientIds = castArray( clientIds );\n\t\tconst firstClientId = first( normalizedClientIds );\n\t\tconst rootClientId = getBlockRootClientId( firstClientId );\n\t\tconst blockOrder = getBlockOrder( rootClientId );\n\t\tconst firstIndex = getBlockIndex( firstClientId, rootClientId );\n\t\tconst lastIndex = getBlockIndex(\n\t\t\tlast( normalizedClientIds ),\n\t\t\trootClientId\n\t\t);\n\n\t\treturn {\n\t\t\tfirstIndex,\n\t\t\tisFirst: firstIndex === 0,\n\t\t\tisLast: lastIndex === blockOrder.length - 1,\n\t\t\tisLocked: getTemplateLock( rootClientId ) === 'all',\n\t\t\trootClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientIds, rootClientId } ) => {\n\t\tconst { moveBlocksDown, moveBlocksUp } = dispatch(\n\t\t\t'core/block-editor'\n\t\t);\n\t\treturn {\n\t\t\tonMoveDown: partial( moveBlocksDown, clientIds, rootClientId ),\n\t\t\tonMoveUp: partial( moveBlocksUp, clientIds, rootClientId ),\n\t\t};\n\t} ),\n\twithInstanceId\n)( BlockMover );\n"]}