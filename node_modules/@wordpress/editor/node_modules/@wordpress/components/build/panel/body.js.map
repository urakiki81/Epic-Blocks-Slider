{"version":3,"sources":["@wordpress/components/src/panel/body.js"],"names":["PanelBody","ref","children","className","icon","initialOpen","onToggle","noop","opened","title","initial","undefined","isOpened","setIsOpened","nodeRef","scrollBehavior","handleOnToggle","event","preventDefault","next","current","scrollIntoView","inline","block","behavior","classes","PanelBodyTitle","props","chevronUp","chevronDown","ForwardedComponent","displayName"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { noop } from 'lodash';\nimport mergeRefs from 'react-merge-refs';\n\n/**\n * WordPress dependencies\n */\nimport { useReducedMotion } from '@wordpress/compose';\nimport { forwardRef, useRef } from '@wordpress/element';\nimport { chevronUp, chevronDown } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport Icon from '../icon';\nimport { useControlledState, useUpdateEffect } from '../utils';\n\nexport function PanelBody(\n\t{ children, className, icon, initialOpen, onToggle = noop, opened, title },\n\tref\n) {\n\tconst [ isOpened, setIsOpened ] = useControlledState( opened, {\n\t\tinitial: initialOpen === undefined ? true : initialOpen,\n\t} );\n\tconst nodeRef = useRef();\n\n\t// Defaults to 'smooth' scrolling\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView\n\tconst scrollBehavior = useReducedMotion() ? 'auto' : 'smooth';\n\n\tconst handleOnToggle = ( event ) => {\n\t\tevent.preventDefault();\n\t\tconst next = ! isOpened;\n\t\tsetIsOpened( next );\n\t\tonToggle( next );\n\t};\n\n\t// Runs after initial render\n\tuseUpdateEffect( () => {\n\t\tif ( isOpened ) {\n\t\t\t/*\n\t\t\t * Scrolls the content into view when visible.\n\t\t\t * This improves the UX when there are multiple stacking <PanelBody />\n\t\t\t * components in a scrollable container.\n\t\t\t */\n\t\t\tif ( nodeRef.current.scrollIntoView ) {\n\t\t\t\tnodeRef.current.scrollIntoView( {\n\t\t\t\t\tinline: 'nearest',\n\t\t\t\t\tblock: 'nearest',\n\t\t\t\t\tbehavior: scrollBehavior,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}, [ isOpened, scrollBehavior ] );\n\n\tconst classes = classnames( 'components-panel__body', className, {\n\t\t'is-opened': isOpened,\n\t} );\n\n\treturn (\n\t\t<div className={ classes } ref={ mergeRefs( [ nodeRef, ref ] ) }>\n\t\t\t<PanelBodyTitle\n\t\t\t\ticon={ icon }\n\t\t\t\tisOpened={ isOpened }\n\t\t\t\tonClick={ handleOnToggle }\n\t\t\t\ttitle={ title }\n\t\t\t/>\n\t\t\t{ isOpened && children }\n\t\t</div>\n\t);\n}\n\nconst PanelBodyTitle = forwardRef(\n\t( { isOpened, icon, title, ...props }, ref ) => {\n\t\tif ( ! title ) return null;\n\n\t\treturn (\n\t\t\t<h2 className=\"components-panel__body-title\">\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"components-panel__body-toggle\"\n\t\t\t\t\taria-expanded={ isOpened }\n\t\t\t\t\tref={ ref }\n\t\t\t\t\t{ ...props }\n\t\t\t\t>\n\t\t\t\t\t{ /*\n\t\t\t\t\tFirefox + NVDA don't announce aria-expanded because the browser\n\t\t\t\t\trepaints the whole element, so this wrapping span hides that.\n\t\t\t\t*/ }\n\t\t\t\t\t<span aria-hidden=\"true\">\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tclassName=\"components-panel__arrow\"\n\t\t\t\t\t\t\ticon={ isOpened ? chevronUp : chevronDown }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t\t{ title }\n\t\t\t\t\t{ icon && (\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\t\tclassName=\"components-panel__icon\"\n\t\t\t\t\t\t\tsize={ 20 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</Button>\n\t\t\t</h2>\n\t\t);\n\t}\n);\n\nconst ForwardedComponent = forwardRef( PanelBody );\nForwardedComponent.displayName = 'PanelBody';\n\nexport default ForwardedComponent;\n"]}