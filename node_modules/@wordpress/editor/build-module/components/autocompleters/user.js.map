{"version":3,"sources":["@wordpress/editor/src/components/autocompleters/user.js"],"names":["apiFetch","name","className","triggerPrefix","options","search","payload","encodeURIComponent","path","isDebounced","getOptionKeywords","user","slug","getOptionLabel","avatar","avatar_urls","getOptionCompletion"],"mappings":";;AAAA;;;AAGA,OAAOA,QAAP,MAAqB,sBAArB;AAEA;;AAEA;;;;;;AAKA,eAAe;AACdC,EAAAA,IAAI,EAAE,OADQ;AAEdC,EAAAA,SAAS,EAAE,6BAFG;AAGdC,EAAAA,aAAa,EAAE,GAHD;AAIdC,EAAAA,OAJc,mBAILC,MAJK,EAII;AACjB,QAAIC,OAAO,GAAG,EAAd;;AACA,QAAKD,MAAL,EAAc;AACbC,MAAAA,OAAO,GAAG,aAAaC,kBAAkB,CAAEF,MAAF,CAAzC;AACA;;AACD,WAAOL,QAAQ,CAAE;AAAEQ,MAAAA,IAAI,EAAE,iBAAiBF;AAAzB,KAAF,CAAf;AACA,GAVa;AAWdG,EAAAA,WAAW,EAAE,IAXC;AAYdC,EAAAA,iBAZc,6BAYKC,IAZL,EAYY;AACzB,WAAO,CAAEA,IAAI,CAACC,IAAP,EAAaD,IAAI,CAACV,IAAlB,CAAP;AACA,GAda;AAedY,EAAAA,cAfc,0BAeEF,IAfF,EAeS;AACtB,QAAMG,MAAM,GACXH,IAAI,CAACI,WAAL,IAAoBJ,IAAI,CAACI,WAAL,CAAkB,EAAlB,CAApB,GACC;AACC,MAAA,GAAG,EAAC,QADL;AAEC,MAAA,SAAS,EAAC,oCAFX;AAGC,MAAA,GAAG,EAAC,EAHL;AAIC,MAAA,GAAG,EAAGJ,IAAI,CAACI,WAAL,CAAkB,EAAlB;AAJP,MADD,GAQC;AAAM,MAAA,SAAS,EAAC;AAAhB,MATF;AAYA,WAAO,CACND,MADM,EAEN;AAAM,MAAA,GAAG,EAAC,MAAV;AAAiB,MAAA,SAAS,EAAC;AAA3B,OACGH,IAAI,CAACV,IADR,CAFM,EAKN;AAAM,MAAA,GAAG,EAAC,MAAV;AAAiB,MAAA,SAAS,EAAC;AAA3B,OACGU,IAAI,CAACC,IADR,CALM,CAAP;AASA,GArCa;AAsCdI,EAAAA,mBAtCc,+BAsCOL,IAtCP,EAsCc;AAC3B,sBAAYA,IAAI,CAACC,IAAjB;AACA;AAxCa,CAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/** @typedef {import('@wordpress/components').WPCompleter} WPCompleter */\n\n/**\n * A user mentions completer.\n *\n * @type {WPCompleter}\n */\nexport default {\n\tname: 'users',\n\tclassName: 'editor-autocompleters__user',\n\ttriggerPrefix: '@',\n\toptions( search ) {\n\t\tlet payload = '';\n\t\tif ( search ) {\n\t\t\tpayload = '?search=' + encodeURIComponent( search );\n\t\t}\n\t\treturn apiFetch( { path: '/wp/v2/users' + payload } );\n\t},\n\tisDebounced: true,\n\tgetOptionKeywords( user ) {\n\t\treturn [ user.slug, user.name ];\n\t},\n\tgetOptionLabel( user ) {\n\t\tconst avatar =\n\t\t\tuser.avatar_urls && user.avatar_urls[ 24 ] ? (\n\t\t\t\t<img\n\t\t\t\t\tkey=\"avatar\"\n\t\t\t\t\tclassName=\"editor-autocompleters__user-avatar\"\n\t\t\t\t\talt=\"\"\n\t\t\t\t\tsrc={ user.avatar_urls[ 24 ] }\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<span className=\"editor-autocompleters__no-avatar\"></span>\n\t\t\t);\n\n\t\treturn [\n\t\t\tavatar,\n\t\t\t<span key=\"name\" className=\"editor-autocompleters__user-name\">\n\t\t\t\t{ user.name }\n\t\t\t</span>,\n\t\t\t<span key=\"slug\" className=\"editor-autocompleters__user-slug\">\n\t\t\t\t{ user.slug }\n\t\t\t</span>,\n\t\t];\n\t},\n\tgetOptionCompletion( user ) {\n\t\treturn `@${ user.slug }`;\n\t},\n};\n"]}