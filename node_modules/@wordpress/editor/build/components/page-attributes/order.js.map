{"version":3,"sources":["@wordpress/editor/src/components/page-attributes/order.js"],"names":["PageAttributesOrder","orderInput","onUpdateOrder","order","setState","setUpdatedOrder","value","newOrder","Number","isInteger","PageAttributesOrderWithChecks","props","select","getEditedPostAttribute","dispatch","editPost","menu_order"],"mappings":";;;;;;;;;;;AAGA;;AAKA;;AACA;;AACA;;AACA;;AAKA;;AAhBA;;;;AAKA;;;;AAQA;;;AAKO,IAAMA,mBAAmB,GAAG,wBAAW;AAC7CC,EAAAA,UAAU,EAAE;AADiC,CAAX,EAE9B,gBAA0D;AAAA,MAAtDC,aAAsD,QAAtDA,aAAsD;AAAA,wBAAvCC,KAAuC;AAAA,MAAvCA,KAAuC,2BAA/B,CAA+B;AAAA,MAA5BF,UAA4B,QAA5BA,UAA4B;AAAA,MAAhBG,QAAgB,QAAhBA,QAAgB;;AAC9D,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAEC,KAAF,EAAa;AACpCF,IAAAA,QAAQ,CAAE;AACTH,MAAAA,UAAU,EAAEK;AADH,KAAF,CAAR;AAGA,QAAMC,QAAQ,GAAGC,MAAM,CAAEF,KAAF,CAAvB;;AACA,QACCE,MAAM,CAACC,SAAP,CAAkBF,QAAlB,KACA,oBAAQD,KAAR,EAAe,CAAE,MAAF,CAAf,MAAgC,EAFjC,EAGE;AACDJ,MAAAA,aAAa,CAAEM,MAAM,CAAEF,KAAF,CAAR,CAAb;AACA;AACD,GAXD;;AAYA,MAAMA,KAAK,GAAGL,UAAU,KAAK,IAAf,GAAsBE,KAAtB,GAA8BF,UAA5C;AACA,SACC,4BAAC,uBAAD;AACC,IAAA,SAAS,EAAC,+BADX;AAEC,IAAA,IAAI,EAAC,QAFN;AAGC,IAAA,KAAK,EAAG,cAAI,OAAJ,CAHT;AAIC,IAAA,KAAK,EAAGK,KAJT;AAKC,IAAA,QAAQ,EAAGD,eALZ;AAMC,IAAA,IAAI,EAAG,CANR;AAOC,IAAA,MAAM,EAAG,kBAAM;AACdD,MAAAA,QAAQ,CAAE;AACTH,QAAAA,UAAU,EAAE;AADH,OAAF,CAAR;AAGA;AAXF,IADD;AAeA,CA/BkC,CAA5B;;;AAiCP,SAASS,6BAAT,CAAwCC,KAAxC,EAAgD;AAC/C,SACC,4BAAC,6BAAD;AAAsB,IAAA,WAAW,EAAC;AAAlC,KACC,4BAAC,mBAAD,EAA0BA,KAA1B,CADD,CADD;AAKA;;eAEc,sBAAS,CACvB,sBAAY,UAAEC,MAAF,EAAc;AACzB,SAAO;AACNT,IAAAA,KAAK,EAAES,MAAM,CAAE,aAAF,CAAN,CAAwBC,sBAAxB,CACN,YADM;AADD,GAAP;AAKA,CAND,CADuB,EAQvB,wBAAc,UAAEC,QAAF;AAAA,SAAkB;AAC/BZ,IAAAA,aAD+B,yBAChBC,KADgB,EACR;AACtBW,MAAAA,QAAQ,CAAE,aAAF,CAAR,CAA0BC,QAA1B,CAAoC;AACnCC,QAAAA,UAAU,EAAEb;AADuB,OAApC;AAGA;AAL8B,GAAlB;AAAA,CAAd,CARuB,CAAT,EAeVO,6BAfU,C","sourcesContent":["/**\n * External dependencies\n */\nimport { invoke } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { TextControl } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose, withState } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\n\nexport const PageAttributesOrder = withState( {\n\torderInput: null,\n} )( ( { onUpdateOrder, order = 0, orderInput, setState } ) => {\n\tconst setUpdatedOrder = ( value ) => {\n\t\tsetState( {\n\t\t\torderInput: value,\n\t\t} );\n\t\tconst newOrder = Number( value );\n\t\tif (\n\t\t\tNumber.isInteger( newOrder ) &&\n\t\t\tinvoke( value, [ 'trim' ] ) !== ''\n\t\t) {\n\t\t\tonUpdateOrder( Number( value ) );\n\t\t}\n\t};\n\tconst value = orderInput === null ? order : orderInput;\n\treturn (\n\t\t<TextControl\n\t\t\tclassName=\"editor-page-attributes__order\"\n\t\t\ttype=\"number\"\n\t\t\tlabel={ __( 'Order' ) }\n\t\t\tvalue={ value }\n\t\t\tonChange={ setUpdatedOrder }\n\t\t\tsize={ 6 }\n\t\t\tonBlur={ () => {\n\t\t\t\tsetState( {\n\t\t\t\t\torderInput: null,\n\t\t\t\t} );\n\t\t\t} }\n\t\t/>\n\t);\n} );\n\nfunction PageAttributesOrderWithChecks( props ) {\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"page-attributes\">\n\t\t\t<PageAttributesOrder { ...props } />\n\t\t</PostTypeSupportCheck>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\treturn {\n\t\t\torder: select( 'core/editor' ).getEditedPostAttribute(\n\t\t\t\t'menu_order'\n\t\t\t),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonUpdateOrder( order ) {\n\t\t\tdispatch( 'core/editor' ).editPost( {\n\t\t\t\tmenu_order: order,\n\t\t\t} );\n\t\t},\n\t} ) ),\n] )( PageAttributesOrderWithChecks );\n"]}